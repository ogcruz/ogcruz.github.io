[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Ci√™ncia de Dados Aplicada √† Epidemiologia - 2025",
    "section": "",
    "text": "Apresenta√ß√£o do Curso\n\nCi√™ncia de Dados Aplicada √† Epidemiologia I - 2025\n\nSigla: ENSP.86.120.1\nCr√©ditos: 2\nCarga Hor√°ria: 60\n\n\nOswaldo G Cruz & La√≠s Picinini Freitas\n\n\n\nLinks:\nlink Principal - Zoom ENSP\nlink alternativo - Zoom Oswaldo\n\n\nAulas Gravadas\nAulas Gravadas\n\n\nOBJETIVO\nCapacitar os estudantes a compreender e aplicar os fundamentos da Ci√™ncia de Dados no contexto da Epidemiologia com o apoio de ferramentas computacionais.\n\n\nCONTE√öDO\n\nFundamentos da Ci√™ncia de Dados aplicada √† Sa√∫de\n\nConceitos b√°sicos de Ci√™ncia de Dados e sua relev√¢ncia na Epidemiologia\n√âtica no uso de dados de sa√∫de\nReprodutibilidade e transpar√™ncia em pesquisas cient√≠ficas\nApresenta√ß√£o de ferramentas (SQL, DuckDB, R, RStudio, RMarkdown, git, github)\n\nBases de Dados e Linguagem SQL\n\nConceitos de bancos de dados relacionais\nLinguagem SQL: cria√ß√£o, consulta e manipula√ß√£o de dados\nUso de DuckDB para an√°lise local de grandes volumes de dados\n\nAcesso e Consumo de Dados\n\nLeitura de dados locais (CSV, Excel, etc.)\nConsumo de dados remotos: APIs, FTP e web scraping\nIntegra√ß√£o do DuckDB (SQL) com R para manipula√ß√£o de dados locais e em nuvem\n\nLimpeza, Transforma√ß√£o e Armazenamento de Dados\n\nLimpeza e padroniza√ß√£o de bases de dados (uso do dplyr, tidyr, janitor, etc.)\nManipula√ß√£o eficiente com data.frame, tibble, e data.table\nArmazenamento em bancos relacionais com SQL e DuckDB\n\nVisualiza√ß√£o de dados e comunica√ß√£o\n\nVisualiza√ß√£o de dados com ggplot2\nIntrodu√ß√£o ao Rmarkdown para documenta√ß√£o e relat√≥rios din√¢micos\nDashboards com Shiny\nVisualiza√ß√µes interativas com leaflet e plotly\n\n\n\n\nAVALIA√á√ÉO\nTrabalho final\n\nPrazo: 31 de outubro de 2025\nTrabalho individual ou em dupla\nFormato Quarto/Rmarkdown\n\nO trabalho deve ser em formato de relat√≥rio e conter:\n\ndescri√ß√£o dos dados,\nprocedimentos de importa√ß√£o de dados externos,\nprepara√ß√£o/limpeza dos dados usando o tidyverse,\ncria√ß√£o de novas vari√°veis,\ngera√ß√£o de pelo menos um gr√°fico e uma tabela.\n\nDe prefer√™ncia, use seus dados. Caso n√£o seja poss√≠vel, use dados p√∫blicos.",
    "crumbs": [
      "Apresenta√ß√£o do Curso"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "",
    "text": "1.1 O que √© Ci√™ncia de Dados?\nA Ci√™ncia de Dados √© uma √°rea interdisciplinar que combina conhecimentos de diversas √°reas com o principal objetivo de transformar dados em informa√ß√µes √∫teis para a tomada de decis√µes.\nA Ci√™ncia de Dados n√£o √© t√£o nova quanto se imagina. Suas ra√≠zes remontam √† estat√≠stica e √† an√°lise de dados, j√° existindo desde a d√©cada de 1970 em computa√ß√£o cientifica em diversas institui√ß√µes e universidades. Recententemente, ganhou muito destaque com o aumento da disponibilidade de grandes volumes de dados e avan√ßos em tecnologias de computa√ß√£o.\nA Ci√™ncia de Dados √© uma evolu√ß√£o resultante da integra√ß√£o de v√°rias disciplinas, incluindo:",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#o-que-√©-ci√™ncia-de-dados",
    "href": "intro.html#o-que-√©-ci√™ncia-de-dados",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "",
    "text": "Estat√≠stica (an√°lise de dados tradicional)\nBanco de Dados (dados estruturados e n√£o estruturados)\nData Mining (minera√ß√£o de dados)\nMachine Learning (aprendizado de m√°quina)\nBig Data (grandes volumes de dados)\nIntelig√™ncia Artificial (IA)\nVisualiza√ß√£o de Dados (apresenta√ß√£o de dados)\nEngenharia de Dados (prepara√ß√£o e integra√ß√£o de dados)\n\n\n1.1.1 E na epidemiologia?\nVivemos um momento cr√≠tico em que o cen√°rio epidemiol√≥gico √© cada vez mais desafiador, com epidemias sobrepostas e mudan√ßas clim√°ticas. Ao mesmo tempo, temos uma enorme produ√ß√£o de dados administrativos e de vigil√¢ncia, mas que ainda n√£o s√£o utilizados em todo o seu potencial.\nH√° uma necessidade de respostas baseadas em evid√™ncia que sejam r√°pidas e robustas, e neste ponto a Ci√™ncia de Dados pode ser muito √∫til.\nNa epidemiologia, a Ci√™ncia de Dados combina com √°reas como matem√°tica, estat√≠stica, e ci√™ncias da computa√ß√£o para identificar padr√µes e extrair conhecimento a partir de dados.\n\n\n\nDS Diagrama de Venn\n\n\nAlguns exemplos de projetos que aplicam Ci√™ncia de Dados em Epidemiologia incluem:\n\nCentros de Intelig√™ncia Epidemiol√≥gica\nInfoGripe\nInfoDengue\nMosqlimate\nPCDaS",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#o-que-√©-pipeline-de-dados",
    "href": "intro.html#o-que-√©-pipeline-de-dados",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.2 O que √© Pipeline de Dados?",
    "text": "1.2 O que √© Pipeline de Dados?\nUm projeto de Ci√™ncia de Dados √© organizado seguindo um Pipeline de Dados, que √© um fluxo automatizado de etapas desde a coleta/importa√ß√£o dos dados, passando pela transforma√ß√£o e an√°lise de dados, at√© a visualiza√ß√£o e comunica√ß√£o.\nEtapas comuns de um Pipeline de Dados incluem:\n\nColeta de Dados: Capturar dados de fontes diversas: arquivos csv, dbf, APIs, bancos de dados, etc.\nLimpeza de Dados: Remover dados faltantes, duplicados, inconsist√™ncias e outliers.\nTransforma√ß√£o de Dados: Normalizar, padronizar, converter formatos, criar novas vari√°veis.\nArmazenamento de Dados: Guardar os dados em bases de dados, data lakes / data warehouse , armazenamento em nuvem, etc.\nAn√°lise e Modelagem: Aplicar t√©cnicas de an√°lises estat√≠sticas, machine learning, etc.\nVisualiza√ß√£o e Comunica√ß√£o: Criar relat√≥rios, dashboards, infogr√°ficos e comunicar resultados.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#kdd",
    "href": "intro.html#kdd",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.3 KDD",
    "text": "1.3 KDD\nSignifica Descoberta de Conhecimento em Bancos de Dados (Knowledge Discovery in Databases), √© um processo que envolve a extra√ß√£o de padr√µes e informa√ß√µes √∫teis e compreens√≠veis a partir de grandes volumes de dados.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#infraestrutura-necess√°ria-para-ci√™ncia-de-dados",
    "href": "intro.html#infraestrutura-necess√°ria-para-ci√™ncia-de-dados",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.4 Infraestrutura Necess√°ria para Ci√™ncia de Dados",
    "text": "1.4 Infraestrutura Necess√°ria para Ci√™ncia de Dados\nPara fazer Ci√™ncia de Dados, √© essencial ter uma infraestrutura adequada, que permita o processamento e an√°lise eficiente dos dados.\nUmas dos principais requesitos √© um servidor que vem a ser um computador especializado que fornece recursos, servi√ßos ou dados a outros dispositivos chamados clientes. As principais caracter√≠sticas de um servidor s√£o:\n\nUso centralizado: N√£o √© usado para tarefas individuais, mas para armazenar dados, executar aplica√ß√µes e oferecer servi√ßos a muitos usu√°rios simultaneamente.\nHardware especializado: Tem componentes otimizados para processamento de tarefas em larga escala, como processadores de alto desempenho, mem√≥ria RAM de alta capacidade e armazenamento em disco de alto desempenho (geralmente espelhados, uso de RAID).\nSem interface gr√°fica: Normalmente n√£o tem monitor, teclado ou mouse. √â controlado remotamente por meio de interfaces de linha de comando ou softwares de gerenciamento.\nSistemas Operacionais: Roda SO espec√≠ficos para servidores, como Linux, Unix, e o lixo do Windows Server, diponibilizando servi√ßos tais como servidor web, banco de dados, arquivos em rede etc.\n\n\n1.4.1 Componentes Principais de um Data Center\nAqui est√£o os principais elementos que comp√µem um Data Center:\n\nServidores: S√£o computadores especializados que executam aplica√ß√µes, armazenam dados e processam requisi√ß√µes. Podem ser f√≠sicos (servidores de rack) ou virtuais (em nuvem).\nRedes: Switches, roteadores, firewalls e cabeamento garantem a comunica√ß√£o entre servidores e clientes. As redes s√£o altamente redundantes para evitar falhas.\nArmazenamento: Discos r√≠gidos (HDD), SSDs, n√£o-vol√°teis, bases de dados, data lakes e dados que podem tamb√©m pode ser armazenamento em nuvem.\n\n\nO que √© RAID?\nRAID (Redundant Array of Independent Disks) √© uma tecnologia que combina v√°rios discos r√≠gidos em um √∫nico array (conjunto de discos r√≠gidos conectados em paralelo, trabalhando juntos) para:\n\nGarantir redund√¢ncia (c√≥pias de dados em diferentes discos).\nAumentar a velocidade de leitura e escrita.\nProteger contra falhas (se um disco falhar, os dados ainda est√£o dispon√≠veis).\nMelhorar a toler√¢ncia a falhas (continuidade do servi√ßo).\n\n\n\nSistemas de Refrigera√ß√£o: Para manter os servidores refrigerados, pois eles geram muito calor durante o processamento.\nEnergia e Backup: Sistemas de energia (como gera√ß√£o de energia, UPS, baterias) garantem que o Data Center nunca desligue. Sistemas de backup (c√≥pias de seguran√ßa) protegem os dados contra perda.\nSeguran√ßa F√≠sica e Cibern√©tica: C√¢meras, sensores, port√µes eletr√¥nicos, biometria para proteger o local f√≠sico. Firewalls, criptografia, autentica√ß√£o de usu√°rios para proteger os dados.\n\n\n\n1.4.2 Centro de Dados no Local (On-Premise) vs Nuvem (Cloud)\nO centro de dados no local, tamb√©m chamado de on-premise, √© uma infraestrutura de TI que fica em um local f√≠sico dentro um departamento ou unidade de uma institui√ß√£o, geralmente em uma sala dedicada.\nA nuvem √© um modelo de armazenamento e processamento de dados em servidores remotos, geralmente gerenciados por provedores de nuvem como Amazon AWS, Microsoft Azure, Google Cloud etc‚Ä¶ De onde os servi√ßos s√£o contratados e expandidos ou alterados conforme desejo (ou o bolso) do cliente.\n\n1.4.2.1 Compara√ß√£o: On-Premise vs Nuvem\n\n\n\n\n\n\n\n\nCrit√©rio\nOn-Premise (Centro de Dados no Local)\nNuvem (Cloud)\n\n\n\n\nControle sobre a infraestrutura\nAlto (gerencia todos os recursos)\nBaixo (provedor de nuvem gerencia a infraestrutura)\n\n\nCusto inicial\nAlto (compra de hardware, instala√ß√£o, energia, etc.)\nBaixo (n√£o h√° investimento inicial significativo)\n\n\nCusto operacional\nAlto (manuten√ß√£o, energia, pessoal especializado)\nBaixo (custos sob demanda, modelos de assinatura)\n\n\nEscalabilidade\nBaixa (requer aquisi√ß√£o de novos recursos f√≠sicos)\nAlta (escala automaticamente conforme necessidade)\n\n\nManuten√ß√£o\nAlta (empresa √© respons√°vel pela manuten√ß√£o)\nBaixa (provedor cuida da manuten√ß√£o e atualiza√ß√µes)\n\n\nSeguran√ßa\nMaior controle, mas depende da implementa√ß√£o local\nDepende do provedor e de suas medidas de seguran√ßa\n\n\nLat√™ncia\nBaixa (servi√ßos locais)\nPode ser alta (depende da qualidade da conex√£o √† internet)\n\n\nAcesso aos dados\nAcesso local (requer estar no mesmo local)\nAcesso remoto (dispon√≠vel a partir de qualquer lugar)\n\n\nFlexibilidade\nBaixa (configura√ß√µes fixas e complexas)\nAlta (recursos podem ser ajustados rapidamente)\n\n\nAtualiza√ß√µes\nManuais, exigem planejamento e interven√ß√£o\nAutom√°ticas, gerenciadas pelo provedor\n\n\nDepend√™ncia da internet\nBaixa (funciona offline)\nAlta (depende da conectividade e da nuvem)\n\n\nBackup e recupera√ß√£o\nGerenciado internamente, pode ser complexo\nGerenciado pelo provedor, geralmente automatizado\n\n\nUso comum\nEmpresas grandes, regulamentadas, sistemas cr√≠ticos\nEmpresas de m√©dio e pequeno porte, startups, aplica√ß√µes web\n\n\nExemplos de provedores\nNenhum (Local)\nAWS, Azure, Google Cloud, Oracle Cloud, IBM Cloud\n\n\n\n\n\n\n1.4.3 Como se parece um pequeno data center local.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#principais-softwares-e-linguagens-de-programa√ß√£o-utilizadas-na-ci√™ncia-de-dados",
    "href": "intro.html#principais-softwares-e-linguagens-de-programa√ß√£o-utilizadas-na-ci√™ncia-de-dados",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.5 Principais softwares e linguagens de programa√ß√£o utilizadas na Ci√™ncia de Dados",
    "text": "1.5 Principais softwares e linguagens de programa√ß√£o utilizadas na Ci√™ncia de Dados\n\nR (estat√≠stica, matem√°tica, an√°lise e visualiza√ß√£o de dados)\nPython (matem√°tica, machine learning, IA, an√°lise de dados)\nSistema Gerenciador de Banco de Dados (SGBD)\nSQL (linguagem padr√£o para bancos de dados relacionais)\nJulia (alta performance, computa√ß√£o cient√≠fica, estat√≠stica, matem√°tica)\nJava / Scala (Apache Spark, Weka,etc‚Ä¶)\nSAS (old days mas ainda usado especialmente em setores regulamentados)",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#principais-ides-em-ci√™ncia-de-dados",
    "href": "intro.html#principais-ides-em-ci√™ncia-de-dados",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.6 Principais IDEs em Ci√™ncia de Dados",
    "text": "1.6 Principais IDEs em Ci√™ncia de Dados\nUm IDE (Integrated Development Environment), ou Ambiente de Desenvolvimento Integrado, √© um software que re√∫ne em um s√≥ lugar as ferramentas essenciais para o desenvolvimento de c√≥digos em uma determinada linguagem de programa√ß√£o.\n\n\nRstudio (R)\nPositron (R, Python)\nVisual Studio Code (R, Python. Julia, SQL, etc‚Ä¶)\nPyCharm (python)\nJupyter Notebook (Python, R, Julia)\nDBeaver (SQL)\nColab (Google Colab)",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#bases-de-dados-armazenando-informa√ß√µes",
    "href": "intro.html#bases-de-dados-armazenando-informa√ß√µes",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.7 Bases de Dados: Armazenando Informa√ß√µes",
    "text": "1.7 Bases de Dados: Armazenando Informa√ß√µes\nUma Base de Dados √© um conjunto organizado de dados, estruturado para facilitar o armazenamento, recupera√ß√£o e manipula√ß√£o de informa√ß√µes.\nTipos de Bases de Dados:\n‚Ä¢ Relacional (ex: MySQL, PostgreSQL, Oracle)\n‚Ä¢ NoSQL (ex: MongoDB, Cassandra)\nO que √© uma Base de Dados Relacional?\n‚Ä¢ Dados organizados em tabelas. ‚Ä¢ Relacionamentos entre tabelas s√£o definidos por chaves prim√°rias e estrangeiras. ‚Ä¢ Exemplo: Tabela de pacientes, tabela de interna√ß√µes, etc.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#sgbd",
    "href": "intro.html#sgbd",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.8 SGBD",
    "text": "1.8 SGBD\nO que √© um Sistema Gerenciador de Banco de Dados (SGBD)?\nUm Sistema Gerenciador de Banco de Dados (SGBD) √© um software que permite criar, gerenciar, armazenar e recuperar dados de forma organizada, eficiente e segura.\nO SGBD atua como um intermedi√°rio entre o usu√°rio e o armazenamento f√≠sico dos dados (banco de dados), facilitando a cria√ß√£o, manipula√ß√£o e consulta de dados.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#big-data-os-3vs-e-banco-de-dados",
    "href": "intro.html#big-data-os-3vs-e-banco-de-dados",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.9 Big Data os 3Vs e Banco de dados",
    "text": "1.9 Big Data os 3Vs e Banco de dados\nBig Data (Dados em Grande Escala) refere-se a conjuntos de dados extremamente grandes e complexos que excedem a capacidade de processamento e armazenamento tradicionais de sistemas de informa√ß√£o. Esses dados podem ser estruturados (como tabelas em bancos de dados), semi-estruturados (como XML ou JSON) ou n√£o estruturados (como textos, imagens, v√≠deos e √°udios).\nO termo Big Data surgiu com o aumento exponencial da gera√ß√£o de dados no mundo digital, impulsionado por tecnologias como redes sociais, sensores, dispositivos m√≥veis, Internet das Coisas (IoT), e outras fontes de dados em tempo real.\nNo processamento de Big Data s√£o necess√°rias o uso de ferramentas distribu√≠das, linguagens de programa√ß√£o e bibliotecas especializadas, bem diferentes do que estamos acostimados\n\nOs 3Vs do Big Data\nOs 3Vs s√£o os tr√™s principais caracter√≠sticas que definem o Big Data. Eles foram introduzidos por Doug Laney, da Gartner, em 2001. Com o tempo, outros ‚ÄúV‚Äù foram adicionados, mas os tr√™s principais s√£o:\n\nVolume (Volume) ‚Ä¢ Refere-se √† quantidade de dados gerados e acumulados. ‚Ä¢ Exemplo: Empresas geram petabytes de dados diariamente.\nVelocidade (Velocity) ‚Ä¢ Refere-se √† rapidez com que os dados s√£o gerados e processados. ‚Ä¢ Exemplo: Dados de sensores, transa√ß√µes em tempo real, redes sociais.\nVariedade (Variety) ‚Ä¢ Refere-se √† diversidade de formatos e tipos de dados. ‚Ä¢ Exemplo: Dados estruturados (tabelas), semi-estruturados (JSON), e n√£o estruturados (texto, imagens, v√≠deos).\n\nOutros ‚Äú3 Vs‚Äù (adicionais)\n‚Ä¢ Verdade (Veracity): Qualidade e confiabilidade dos dados.\n‚Ä¢ Valor (Value): A utilidade dos dados para a tomada de decis√µes.\n‚Ä¢ Complexidade (Complexity): A dificuldade de processar e analisar os dados\n\n1.9.1 Quanto √© um grande volume?\n\n\n\n\n\n\n\n\nTamanho\nQuantidade de filmes\nDura√ß√£o total (1 hora/filme)\n\n\n\n\n1 GB\n1 filme\n~1 hora\n\n\n1 TB\n250 filmes\n~10 dias\n\n\n1 PB\n250.000 filmes\n~28,5 anos\n\n\n\n\n\n1.9.2",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#resultadosaplica√ß√µes",
    "href": "intro.html#resultadosaplica√ß√µes",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.10 Resultados/Aplica√ß√µes",
    "text": "1.10 Resultados/Aplica√ß√µes\n\n1.10.1 o que tem sido publicado?\n\n~600 artigos nos √∫ltimos 10 anos buscando pelo termo ‚ÄòDATA SCIENCE‚Äô[TIAB] AND EPIDEMIOLOGY no pubmed.\n\n \n\n\n\n1.10.2 Tese Minera√ß√£o de dados na identifica√ß√£o de padr√µes de mortalidade no Brasil de 1979 a 2013:\nAluno: Davi Barroso Alves\nOrientador: Oswaldo G. Cruz\nBanco em postgresSQL criado a partit do SIM Brasil de 1979 a 2014\nLinhas: ~ 35 milh√µes colunas:20, espa√ßo em memoria ~ 4GB",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "intro.html#considera√ß√µes-finais",
    "href": "intro.html#considera√ß√µes-finais",
    "title": "1¬† Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia",
    "section": "1.11 Considera√ß√µes finais",
    "text": "1.11 Considera√ß√µes finais\n\nTornar-se um cientista de dados √© um processo longo e exige dedica√ß√£o e constante atualiza√ß√£o.\nUso de grandes bancos de dados exige uma combina√ß√£o de software e hardware muito diferente do que os usu√°rios est√£o acostumados a usar.\nNecess√°rio conhecimento de linguagens de programa√ß√£o e bancos de dados SQL (ou NoSQL).\nNenhum pacote estat√≠stico por si s√≥ vai dar conta de criar, gerenciar e analisar dados.\nNecess√°rio conhecimento aprofundado de estat√≠stica e ML.\n\n\n‚Äú‚Ä¶if the quantity of information is increasing by 2.5 quintillion bytes per day, the amount of useful information almost certainly isn‚Äôt. Most of it is just noise, and the noise is increasing faster than the signal. There are so many hypotheses to test, so many data sets to mine but a relatively constant amount of objective truth.‚Äù\nüìö Nate Silver, The Signal and the Noise: Why Most Predictions Fail ‚Äì But Some Don‚Äôt\nPenguin Press/Classics 2013",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Introdu√ß√£o √† Ci√™ncia de Dados em Epidemiologia</span>"
    ]
  },
  {
    "objectID": "sql.html",
    "href": "sql.html",
    "title": "2¬† Banco de Dados & SQL",
    "section": "",
    "text": "2.1 Introdu√ß√£o\nVoc√™ j√° parou para pensar na quantidade de dados que geramos no dia-a-dias? Quando postamos uma foto em uma rede social, fazemos uma compra online, assistimos a um v√≠deo, ou usamos um aplicativo de transporte ‚Äî tudo isso envolve um banco de dados por tr√°s.\nBancos de dados s√£o essenciais em praticamente todas as √°reas onde computadores s√£o utilizados: neg√≥cios, engenharia, educa√ß√£o, medicina, e a lista continua. Eles n√£o s√£o apenas um amontoado de informa√ß√µes ‚Äî para ser um banco de dados, √© preciso que esses dados estejam organizados, estruturados e prontos para serem consultados.\nPor isso, um arranjo aleat√≥rio de informa√ß√µes n√£o √© um banco de dados. E, embora √∫teis, planilhas n√£o oferecem a mesma estrutura e funcionalidades de um sistema de gerenciamento de banco de dados (SGBD).",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#sistema-gerenciador-de-banco-de-dados",
    "href": "sql.html#sistema-gerenciador-de-banco-de-dados",
    "title": "2¬† Banco de Dados & SQL",
    "section": "2.2 Sistema Gerenciador de Banco de Dados",
    "text": "2.2 Sistema Gerenciador de Banco de Dados\nUm Sistema Gerenciador de Banco de Dados (SGBD) √© uma cole√ß√£o de programas que habilitam usu√°rios a criar e manter um banco de dados.\nO SGBD √© um software de prop√≥sito geral, que facilita o processo de defini√ß√£o, constru√ß√£o e manipula√ß√£o de um banco de dados.\n\nExemplos de SGBDs populares:\n\nMySQL (muito usado em aplica√ß√µes web)\nPostgreSQL (foco em robustez e recursos avan√ßados)\nSQLite (leve e ideal para aplica√ß√µes locais ou mobile)\nOracle Database ($$$, amplamente utilizado em grandes corpora√ß√µes)\nDuckdb (moderno, usa filosofia OLAP, crescendo rapidamente)\nSQL Server (desenvolvido pela Microsoft) ü§Æü§Æü§Æ",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#terminologia-b√°sica",
    "href": "sql.html#terminologia-b√°sica",
    "title": "2¬† Banco de Dados & SQL",
    "section": "2.3 Terminologia B√°sica",
    "text": "2.3 Terminologia B√°sica\nAntes de trabalhar com SQL, √© importante entender a linguagem b√°sica dos bancos de dados. Esses termos descrevem como as informa√ß√µes s√£o organizadas e manipuladas dentro de um SGBD.\n\n\nCampo: unidade b√°sica de informa√ß√£o m√≠nima com significado (coluna).\nRegistro: conjunto de campos (linha).\nAtributo: √°rea que pode conter um tipo de dados. √â a interse√ß√£o de uma linha com uma coluna.\nTabela: conjunto de registros.\nBanco de Dados (BD): conjunto de tabelas e as formas de manipula√ß√£o (relacionamentos).\nModelo de Dados: conjunto de conceitos utilizados para descrever a estrutura de um BD, ou seja, os tipos de dados, relacionamentos e restri√ß√µes sobre estes dados.\nModelo Relacional: representa os dados em um BD por meio de um conjunto de rela√ß√µes.\nChave Prim√°ria: coluna que identifica com exclusividade cada linha de um tabela.\nChave Estrangeira: coluna ou conjunto de colunas referente a uma chave prim√°ria de uma outra tabela. A partir da chave estrangeira podemos relacionar tabelas (join).",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#modelo-de-dados",
    "href": "sql.html#modelo-de-dados",
    "title": "2¬† Banco de Dados & SQL",
    "section": "2.4 Modelo de Dados",
    "text": "2.4 Modelo de Dados\nUm Modelo de Dados consiste de um conjunto de conceitos utilizados para descrever a estrutura de um BD, ou seja, os tipos de dados, relacionamentos e restri√ß√µes sobre estes dados.\nNo Modelo Relacional representa-se os dados em um BD por meio de um conjunto de rela√ß√µes.\nExistem diferentes t√©cnicas e tipos de representa√ß√£o de um modelo de dados, como:\n\nModelo Externo (vis√µes espec√≠ficas para determinados usu√°rios ou aplica√ß√µes)\nModelo Conceitual (representa√ß√£o abstrata e independente de tecnologia)\nModelo Entidade-Relacionamento (ER) (foco em entidades, atributos e relacionamentos)\n\nAbaixo temos um exemplo de um diagrama de entidade-relacionamento (ER) para um sistema de prontu√°rio eletr√¥nico:\n\nNo diagrama acima, podemos identificar tr√™s elementos principais: entidades, atributos e rela√ß√µes:\n\nEntidades: Representam os objetos principais do sistema (ex: Paciente, M√©dico, Prontu√°rio Eletr√¥nico).\nAtributos: Informa√ß√µes associadas a cada entidade (ex: ID, sexo, dt nasc para Paciente).\nRela√ß√µes: Indicam como as entidades est√£o conectadas (ex: um Paciente pode ter v√°rios registros nos prontu√°rios eletr√¥nicos ‚Äî rela√ß√£o 1:N; um M√©dico realiza diversas Consultas (1:N)).",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#introdu√ß√£o-ao-sql",
    "href": "sql.html#introdu√ß√£o-ao-sql",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.1 Introdu√ß√£o ao SQL",
    "text": "3.1 Introdu√ß√£o ao SQL\nO SQL (Structured Query Language) foi criado em 1974 por Donald D. Chamberlin e Raymond F. Boyce, pesquisadores da IBM. Originalmente chamado SEQUEL (Structured English Query Language), ele foi desenvolvido para gerenciar e manipular dados de diferentes bancos de dados relacionais existentes na √©poca.\nDesde a d√©cada de 1990 tornou-se a linguagem mais popular para acesso a bancos de dados, associado √† difus√£o dos SGBDs relacionais. Neste mesmo ano, a Oracle lan√ßou seu primeiro SGBD totalmente em SQL.\nEm ingl√™s SQL √© pronunciado como S-Q-L ou SEQUEL.\nAtualmente SQL √© a linguagem padr√£o para bancos de dados relacionais. Os principais Bancos de Dados Relacionais operam com alguma forma de SQL.\nExistem dois tipos b√°sicos de linguagem:\n\nLinguagem procedural: fornece uma descri√ß√£o detalhada de COMO uma tarefa √© realizada, operando sobre um registro ou uma unidade de dados a cada vez. Ex: C, Java etc‚Ä¶\nLinguagem n√£o procedural: √© uma descri√ß√£o de O QUE se deseja, onde o sistema dever√° determinar a forma de fazer. Ex: SQL, HTML.\n\nSQL √© uma linguagem n√£o procedural, pois permite expressar consultas e opera√ß√µes em bancos de dados (como sele√ß√£o, inser√ß√£o e atualiza√ß√£o de dados) sem especificar como o sistema deve execut√°-las. O usu√°rio declara o que deseja, e o SGBD (Sistema Gerenciador de Banco de Dados) determina como atender a solicita√ß√£o.\nPara efeitos did√°ticos, podemos organizar os m√≥dulos do SQL nas seguintes categorias:\n\nDefini√ß√£o (DDL): cria√ß√£o do esquema (tabelas e relacionamentos) que atender√° as necessidades no BD;\nManipula√ß√£o (DML): inclus√£o, dele√ß√£o e modifica√ß√£o dos dados no BD;\nConsulta (DQL): realiza√ß√£o de consultas no BD;\nAcessos (DCL): Controlar permiss√µes e acesso definindo quem pode fazer o que com os tabelas e dados;\n\nA tabela abaixo resume as principais subcategorias dos comandos em SQL.\n\n\n\n\n\n\n\n\n\n\nAbrevia√ß√£o\nNome completo\nProp√≥sito\nExemplos de comandos\nDuckDB?\n\n\n\n\nDDL\nData Definition Language\nCriar, modificar ou excluir estruturas de dados\nCREATE, ALTER, DROP\n‚úÖ Sim\n\n\nDML\nData Manipulation Language\nInserir, atualizar, excluir ou selecionar dados\nSELECT, INSERT, UPDATE, DELETE\n‚úÖ Sim\n\n\nDQL\nData Query Language\nRecuperar dados (subcategoria do DML)\nSELECT, FROM, WHERE, JOIN\n‚úÖ Sim\n\n\nDCL\nData Control Language\nControlar permiss√µes e acesso aos dados\nGRANT, REVOKE\n‚ùå N√£o",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#exemplo-de-uma-consulta-dql",
    "href": "sql.html#exemplo-de-uma-consulta-dql",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.2 Exemplo de uma consulta (DQL)",
    "text": "3.2 Exemplo de uma consulta (DQL)\nselect nome,idade from pacientes ; \n ‚Äã",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#defini√ß√£o-e-manipula√ß√£o-ddl-dml",
    "href": "sql.html#defini√ß√£o-e-manipula√ß√£o-ddl-dml",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.3 Defini√ß√£o e Manipula√ß√£o (DDL & DML)",
    "text": "3.3 Defini√ß√£o e Manipula√ß√£o (DDL & DML)\nPara iniciar a defini√ß√£o de um BD √© necess√°rio conhecer os tipos de dados que o BD manipula. Existe uma grande quantidade de diferentes tipos, mas, de uma maneira geral, os tipos mais frequentes s√£o:\n\nNum√©ricos: INT, BIGINT, DECIMAL, FLOAT, DOUBLE\nData/Hora: DATE, TIME, DATETIME, TIMESTAMP\nTexto: CHAR, VARCHAR, TEXT, NCHAR, NVARCHAR\nBooleanos: BOOLEAN, BIT\nBin√°rios: BINARY, VARBINARY, BLOB\nIntervalos: INTERVAL (representa um intervalo de tempo)\n\nObs: O dado faltante √© chamado NULL.\n\n3.3.1 Criando uma tabela\nPara criar uma tabela ser√° usada a declara√ß√£o SQL (DDL) create table. De uma maneira geral:\ncreate table &lt;nome_tabela&gt; (\n    campo_1 &lt;tipo de dado&gt;,\n    campo_2 &lt;tipo de dado&gt;, \n    campo_3 &lt;tipo de dados&gt; \n    ) ;\nO ponto e v√≠rgula encerra uma instru√ß√£o deixando-a pronta para ser executada ap√≥s o .\nExemplo\nComo seria a cria√ß√£o de uma tabela que armazenaria os nomes e siglas de todas a UF?\n‚Äã CREATE TABLE estados (\n    uf integer,\n    sigla char(2),\n    regiao char(2),\n    nome varchar(50)\n) ; \n\n\n3.3.2 Inserindo dados (populando a tabela)\nInstru√ß√£o INSERT √© usada para inserir dados na tabela.\nINSERT INTO &lt;tabela&gt;[(coluna_1,...,coluna_n)] VALUES (valor_1,...,valor_n);\nExemplo:\nINSERT INTO estados(uf, sigla, regiao, nome)\nVALUES (33, 'RJ', 'SE', 'Rio de Janeiro');\n\nINSERT INTO estados\nVALUES (31, 'MG', 'SE', 'Minas Gerais');\n\nINSERT INTO estados(sigla, nome, uf, regiao)\nVALUES ('SP', 'S√£o Paulo', 35, 'SE');\n\nINSERT INTO estados(nome, regiao, uf, sigla)\nVALUES ('Espirito Santo', 'SE', 32, 'ES');\n\nINSERT INTO estados(sigla, regiao, nome)\nVALUES('GO', 'CO', 'Goias'); -- uf vai receber NULL\nA modifica√ß√£o dos registros √© feita usando o comando UPDATE. Por exemplo:\nUPDATE estado SET nome = 'Goi√°s', uf = 52 WHERE sigla = 'GO';  \n\n\n3.3.3 Apagando os Dados\nInstru√ß√£o DELETE √© usada para remover uma ou registros da tabela, possuindo duas formas b√°sicas:\nDELETE FROM &lt;tabela&gt;;\\\n-- ou \nDELETE FROM &lt;tabela&gt; WHERE &lt;condi√ß√£o&gt;;\nA primeira forma √© obrigat√≥ria e apaga todos os dados da tabela, enquanto que a segunda possui uma parte opcional, a partir do WHERE, que apaga somente os dados da tabela que atendem a uma condi√ß√£o (ou condi√ß√µes) imposta pela cl√°usula WHERE. Exemplo:\nDELETE FROM ESTADOS WHERE SIGLA = 'SP'; -- 1 linha deletada\n\nDELETE FROM ESTADOS WHERE NOME = 'ACRE';  -- nenhuma linha encontrada\n\nDELETE FROM ESTADOS; -- todas as  linhas deletadas  ATEN√á√ÉO. \n\n\n3.3.4 Remover uma Tabela\nPara se remover uma tabela deve-se usar o comando DROP TABLE.\nDROP TABLE &lt;nome_da_tabela&gt;;\nPor meio deste comando a tabela deixar√° de existir neste banco de dados, sendo todas as informa√ß√µes contidas nela v√£o ser TOTALMENTE apagadas (n√£o tem como desfazer).\nExemplo:\nDROP TABLE ESTADOS; -- Tabela eliminada",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#consulta-dql",
    "href": "sql.html#consulta-dql",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.4 Consulta (DQL)",
    "text": "3.4 Consulta (DQL)\nInstru√ß√£o SELECT √© a ess√™ncia da linguagem SQL. √â por meio dela que se recupera dados de um banco de dados. De modo simples, forma declarativa, est√° se dizendo ao BD quais informa√ß√µes foram selecionadas para serem recuperadas.\nPode-se dividir esta instru√ß√£o em quatro partes b√°sicas:\n\nSELECT seguido dos atributos que se deseja ver (obrigat√≥rio)\nFROM seguido de onde se obter√£o os dados (obrigat√≥rio)\nWHERE seguido das restri√ß√µes de recupera√ß√£o (opcional)\nORDER BY seguido da forma como os dados ser√£o classificados (opcional)\nGROUP BY serve para agregar os dados (opcional)\n\nO s√≠mbolo asterisco * significa que todos atributos da rela√ß√£o informada dever√£o ser recuperados.\nExemplo:\nSELECT * from ESTADO;\n\nselect * FROM estado WHERE SIGLA='GO' OR NOME='Acre' ; \nSELECT ser√° a instru√ß√£o mais comumente usada na linguagem SQL. Repare que o SQL n√£o √© case sensitive como a maioria das linguagens!\nNa cl√°usula WHERE ser√£o utilizados alguns operadores de compara√ß√£o e l√≥gicos para que a condi√ß√£o seja especificada. Os operadores logicos usados em SQL s√£o:\n\n\n3.4.1 Criando novas tabelas a partir de tabelas existentes\n√â muito simples a cria√ß√£o de novas tabelas a partir de outras, basta usar o CREATE TABLE com o resultado de um SELECT.\nCREATE TABLE sudeste AS (SELECT * FROM estados WHERE regiao = 'SE')  ;\n\n\n3.4.2 Joins (Relacionando as Tabelas)\nExistem diversas maneiras de se fazer o relacionamento entre duas tabelas. Os mais comuns s√£o:\n\nINNER JOIN: Este √© simples e comumente empregado. Esta query retornar√° todos os registros da tabela A (esquerda) que t√™m correspond√™ncia com a tabela B (direita). Ou seja, o que existe de comum entre A e B. Podemos escrever este JOIN da seguinte forma:\n\nSELECT * FROM A INNER JOIN B ON A.chave = B.chave\n\nLEFT JOIN: Esta consulta retorna todos os registros da tabela A (esquerda) e o que existir em comum com a tabela B (direita). O c√≥digo fica da seguinte forma:\n\n    SELECT * FROM A LEFT JOIN B ON A.chave = B.chave\n\nOUTER JOIN: Este relacionamento √© conhecido tamb√©m como FULL OUTER JOIN ou FULL JOIN. Esta consulta retornar√° todos os registros das duas tabelas e juntando tamb√©m os registros correspondentes entre as duas tabelas. O que for diferente nas duas tabelas ficara com o valor NULL. O c√≥digo ficar√° da seguinte forma:\n\nSELECT * FROM A FULL OUTER JOIN B ON A.chave = B.chave\n Fonte da figura",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#principais-fun√ß√µes-usadas-em-sql",
    "href": "sql.html#principais-fun√ß√µes-usadas-em-sql",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.5 Principais fun√ß√µes usadas em SQL",
    "text": "3.5 Principais fun√ß√µes usadas em SQL\nSeguem algumas fun√ß√µes comumente usadas em SQL, lembre-se que cada vers√£o e SGDB usa dialetos diferentes.\nFun√ß√µes matem√°ticas (mais comumente usadas):\n\nABS(n): Devolve o valor absoluto de n.\nCEIL(n): Obt√©m o valor inteiro imediatamente superior ou igual a n.\nFLOOR(n): Devolve o valor inteiro imediatamente inferior ou igual a n.\nMOD(m, n): Devolve o resto resultante de dividir m entre n.\nPOWER(m, exponente): Calcula a pot√™ncia de um n√∫mero.\nROUND(n√∫mero [, m]): Arredonda n√∫meros com o n√∫mero de d√≠gitos de precis√£o indicados.\nSIGN(valor): Indica o sinal do valor.\nSQRT(n): Devolve a raiz quadrada de n.\nTRUNC(n√∫mero, [m]): Trunca n√∫meros para que tenham uma certa quantidade de d√≠gitos de precis√£o.\n\nFun√ß√µes Agregadas :\n\nCOUNT ( * | Express√£o): Conta o n√∫mero de ocorr√™ncias (A op√ß√£o ‚Äú*‚Äù conta todos os registros selecionados).\nAVG (n): Calcula o valor m√©dio de n ignorando os valores nulos.\nMAX (express√£o): Calcula o m√°ximo.\nMIN (express√£o): Calcula o m√≠nimo.\nSUM (express√£o): Obt√©m a soma dos valores da express√£o (se houver NULL retorna NULL).\nTOTAL (express√£o): soma ignorando NULL.\n\nFun√ß√µes de caracteres:\n\nCONCAT (str1, str2): Devolve ‚Äústr1‚Äù concatenada com ‚Äústr2‚Äù.\nLOWER (str): Devolve a string em min√∫sculas.\nUPPER (str): Devolve a string em mai√∫sculas.\nSUBSTR (str, m [,n]): Obt√©m parte de uma string.\nLENGTH (str): Devolve o n√∫mero de caracteres de str.\nREPLACE (str, cadeia_busca [, cadeia_substitui√ß√£o]): Substitui um caractere ou caracteres de uma cadeia com 0 ou mais caracteres.\n\nFun√ß√µes de datas:\n\nDATE(): Retorna a data ou transforma em data.\nTIME(): Retorna tempo.\nSTRFTIME(fmt, data): Formata a data.\n\nExemplos:\nSELECT count(*) from Estados;\nSELECT now() ; \nSELECT round(355.0 / 113.0,6) ;  -- que n√∫mero √© esse? Teste sem o .0\n\nPara saber mais sobre os tipos de dados e fun√ß√µes do duckDB consulte o Documenta√ß√£o online do duckDB.",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#exerc√≠cios-e-pr√°tica",
    "href": "sql.html#exerc√≠cios-e-pr√°tica",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.6 Exerc√≠cios e pr√°tica",
    "text": "3.6 Exerc√≠cios e pr√°tica\nUsando o duckDB (instala√ß√£o feita aqui), fa√ßa os exerc√≠cios a seguir.\nCrie a tabela pessoas:\n-- Criar tabela pessoas\nCREATE TABLE pessoas (\n    cpf BIGINT PRIMARY KEY,\n    nome VARCHAR(100),\n    idade INT,\n    sexo VARCHAR(10),\n    telefone VARCHAR(20),\n    uf int\n);\nInsira dados na tabela pessoas:\n-- Inserir dados de pessoas \nINSERT INTO pessoas (cpf, nome, idade, sexo, telefone,uf)\nVALUES\n(12345678901, 'Jo√£o Silva', 35, 'Masculino', '(21) 98765-4321',33),\n(23456789012, 'Maria Oliveira', 28, 'Feminino', '(21) 99565-0987',33),\n(34567890123, 'Pedro Almeida', 42, 'Masculino', '(31) 78765-4323', 31),\n(45678901234, 'Ana Costa', 31, 'Feminino', '(11) 98765-4324',35),\n(56789012345, 'Lucas Ferreira', 25, 'Masculino', '(21) 98765-4325',31),\n(67890123456, 'Julia Santos', 29, 'Feminino', '(22) 98765-4326',32),\n(78901234567, 'Ricardo Lima', 50, 'Masculino', '(11) 98765-4327',35),\n(89012345678, 'Fernanda Souza', 33, 'Feminino', '(65) 98765-4328', 52),\n(90123456789, 'Mateus Pereira', 40, 'Masculino', '(21) 98765-4329',33),\n(10234567890, 'Isabela Lima', 27, 'Feminino', '(68) 98765-4330',11);\nCrie a tabela estados:\nCREATE TABLE estados (\n    uf INT PRIMARY KEY,\n    sigla VARCHAR(2),\n    nome VARCHAR(50),\n    regiao VARCHAR(20)\n    );\nInsira dados na tabela estados:\nINSERT INTO estados (uf,sigla,nome,regiao)\nVALUES\n(12,'AC','Acre','Norte'),\n(13,'AM','Amazonas','Norte'),\n(14,'RR','Roraima','Norte'),\n(15,'PA','Par√°','Norte'),\n(16,'AP','Amap√°','Norte'),\n(17,'TO','Tocantins','Norte'),\n(21,'MA','Maranh√£o','Nordeste'),\n(22,'PI','Piau√≠','Nordeste'),\n(23,'CE','Cear√°','Nordeste'),\n(24,'RN','Rio Grande do Norte','Nordeste'),\n(25,'PB','Para√≠ba','Nordeste'),\n(26,'PE','Pernambuco','Nordeste'),\n(27,'AL','Alagoas','Nordeste'),\n(28,'SE','Sergipe','Nordeste'),\n(29,'BA','Bahia','Nordeste'),\n(31,'MG','Minas Gerais','Sudeste'),\n(32,'ES','Esp√≠rito Santo','Sudeste'),\n(33,'RJ','Rio de Janeiro','Sudeste'),\n(35,'SP','S√£o Paulo','Sudeste'),\n(41,'PR','Paran√°','Sul'),\n(42,'SC','Santa Catarina','Sul'),\n(43,'RS','Rio Grande do Sul','Sul'),\n(50,'MS','Mato Grosso do Sul','Centro-Oeste'),\n(51,'MT','Mato Grosso','Centro-Oeste'),\n(52,'GO','Goi√°s','Centro-Oeste'),\n(53,'DF','Distrito Federal','Centro-Oeste');\nSiga os passos abaixo:\n\nCertifique-se que as tabelas foram criadas listando o conte√∫do de cada uma delas (dica: use SELECT).\nInsira mais um registro a tabela pessoas usando o comando abaixo:\n\ninsert into pessoas values (53565635794, 'Joana da Silva', 33, 'Feminino', '', NULL) ;\n\nO registro foi inserido?\nNULL √© igual a ‚Äô‚Äô ?\nQual √© a idade m√©dia das pessoas?\n\n\nEm seguida, vamos adicionar mais um registro:\n\ninsert into pessoas values (78901234567, 'Carlos Valente',53,'Masculino','(21)9765-4320',26) ;\n\nO registro foi inserido?\nEm caso negativo, alguma ideia do motivo ?\nQue campo voc√™ deve modificar para poder incluir esse registro?\n\n\nVoc√™ quer saber qual a frequ√™ncia por sexo na tabela pessoas e usou o c√≥digo abaixo:\n\nselect sexo, count(sexo) from pessoas \n\nFuncionou? (lembre-se do terminador)\nFuncionou quando adicionou o ‚Äò;‚Äô ? (dica: leia as mensagens de erro com aten√ß√£o)\n\n\nFa√ßa um join entre as tabelas pessoas e estados.\n\nselect * from pessoas \nleft join estados on pessoas.uf = estados.uf ;\n\nPor que a Isabela Lima e a Joana da Silva ficaram sem UF?\n\n\nFa√ßa agora um INNER JOIN e responda o que muda em rela√ß√£o ao left join.\n\nselect * from pessoas \ninner join estados on pessoas.uf = estados.uf ;\n\nVamos corrigir os problemas nas nossas tabelas:\n\nInsira na tabela estados uma linha para Rond√¥nia (RO) que tem o c√≥digo 11 e est√° na regi√£o norte.\nModifique o registo de Joana da Silva para a UF 29 (lembre-se de usar where para especificar o que vai ser alterado).\n\n\nSelecione com o mouse para ver a resposta no box abaixo!\n\n\nINSERT INTO estados VALUES (11,‚ÄòRO‚Äô,‚ÄòRond√¥nia‚Äô,‚ÄòNorte‚Äô) ;\nUPDATE pessoas set uf = 29 where cpf = ‚Äò53565635794‚Äô;\n\n\nAgora que nosso dado est√° devidamente corrigido, vamos criar uma nova tabela chama pessoa_uf que recebe os dados unidos de ambas as tabelas.\ncreate or replace table pessoa_uf as (\nselect * from pessoas as p \nleft join estados as e on p.uf = e.uf );\n-- Aqui poder√≠amos usar o INNER JOIN pois ficariam iguais!\nAqui um exemplo de como qualquer tabela pode ser facilmente exportada para csv (neste caso csv2, com delimitador ‚Äú;‚Äù , o default √© , .\nCOPY pessoa_uf TO 'pessoas.csv' (HEADER, DELIMITER ';');\n\n3.6.1 Importando arquivos remotos\n\n3.6.1.1 Importando CSV com a popula√ß√£o do TCU de 2024\n-- lendo a popula√ß√£o do TCU por muni do github\ncreate table tcu as (\nselect * from \n'https://raw.githubusercontent.com/ogcruz/curso_DS2025/refs/heads/main/sql/poptcu_2024.csv') ; \n-- cria a a coluna num√©rica UF \ncreate or replace table tcu as (\n    select substr(MUNI_RES::CHAR,1,2) as uf,*, from tcu) ;\n-- soma a popula√ß√£o por UF\ncreate table pop_tcu as (\n    select uf,sum(POPULACAO) as pop2024 from tcu group by uf order by pop2024 desc ) ;\n-- atualiza a tabela estados com a pop do TCU de 2024\ncreate table estados as (\nselect *  from estados e \nleft join pop_tcu p on e.uf = p.uf \norder by e.uf ) ;\n\n\n3.6.1.2 Importando um parquet com ESUS do RJ de 2020\nVamos importar um arquivo paquet com cerca de ~2.56 milh√µes de registos direto da nuvem da Fiocruz. O tamanho do arquivo em CSV √© de cerca de 900MB, j√° em parquet 140MB (15% do CSV).\n\nParquet √© um formato de armazenamento colunar , amplamente utilizado em ecossistemas de big data por ser muito eficiente tanto na leitura quanto na escrita, suporta diferentes algoritmos de compress√£o de dados e √© altamente port√°vel √© suportado por ferramentas de Big Data e tamb√©m em Python, R, Julia, DuckDB entre outros.\n\nPara ler arquivos externos em geral o duckDB j√° vem com a extens√£o httpfs pr√©-instaladas por default\nEssa extens√£o √© a respons√°vel por ler e escrever remotamente, ela d√° suporte a leitura por http e https e leitura e escrita usando S3 (protocolo da Amazon Clould)\nCaso voc√™ tenha algum problema aqui est√° o c√≥digo para instalar, mas n√£o deve ser necess√°rio fazer essa instala√ß√£o.\nINSTALL httpfs;\nLOAD httpfs;\nAntes de come√ßar um projeto maior no duckDB √© recomend√°vel ajustar o tamanho da mem√≥ria e n√∫mero de n√∫cleos da CPU que o duckDB poder√° usar.\nVoc√™ deve ajustar esses par√¢metros conforme a quantidade de RAM do seu sistema e a quantidade de n√∫cleos (cores) da sua CPU. Nas CPU modernas um n√∫cleo roda 2 tarefas (Threads) por n√∫cleo. Para a quantidade de memoria um par√¢metro 4GB √© razo√°vel, mas a depender do dado pode ser necess√°rio aumentar esse valor. J√° para a CPU aposta segura √© que toda a maquina √© no m√≠nimo um dual core atualmente.\nMas lembre-se que se voc√™ for usar tamb√©m o R ou alguma outra linguagem / ‚Äòsoftware‚Äô simultaneamente voc√™ deve ajustar esses valores.\nSET memory_limit = '4GB'; -- ajuste de acordo \nSET threads TO 4; -- toda cpu moderna tem no minimo 4 threads\nCREATE TABLE esus as (\n    SELECT  * \nFROM 'https://own.procc.fiocruz.br/DS2025/esus_rj.parquet' \n); \n-- cerca de 15 segundos \nDESCRIBE esus ; \nNote que a maioria das vari√°veis foi importada como VARCHAR somente index e testeSorologico s√£o inteiros e idade √© um double\nselect * from esus limit 100; \n\n\n\n3.6.2 Limpando a tabela do ESUS\nVamos proceder algumas transforma√ß√µes para transformar os campos dataNotificacao, dataInicioSintomas e dataTeste de texto para data. Repare que eles s√£o, na verdade, do tipo timestamps assim temos de fazer uma dupla transforma√ß√£o, de texto para timestamp e depois de timestamp para date. Vamos aproveitar e colocar um filtro de data de primeiro sintomas maior ou igual a 1 de mar√ßo de 2020 e salvar em uma tabela esus2.\ncreate or replace table esus2 as ( \nselect  index, \n        cast(dataNotificacao::TIMESTAMP as date) as dt_not , --converte pra data\n        cast(dataInicioSintomas::TIMESTAMP as date) as dt_sint,\n        cast(dataTeste::TIMESTAMP as date) as dt_test,\n        * EXCLUDE (dataNotificacao,dataInicioSintomas,dataTeste,index_1) --n√£o h√° virgula!!!\n        from esus where dt_sint &gt;= '2020-03-01'\n        ) ;\nPodemos visualizar a nova tabela usando o comando select ‚Ä¶ como j√° fizemos antes no, entretanto existe um atalho para isso. use o painel a direita do duckDB UI para explorar a nova tabela.\nfrom esus2;\n\n\n3.6.3 Listando\nComo fazer uma listagem dos nomes dos munic√≠pio do estado do Rio de Janeiro que constam da tabela esus2 ?\nselect distinct municipio \nfrom esus2 \nwhere estado = 'RIO DE JANEIRO' \norder by municipio;\nNote que no comando acima temo o uso do DISTINCT √© usado para eliminar registros duplicados de um resultado da consulta. O uso de DISTINCT pode impactar a performance, especialmente em tabelas grandes, pois o SQL precisa ordenar e remover duplicados.\ncaso eu queira saber quantos s√£o:\nselect count(distinct municipio) \nfrom esus2;",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#exemplos-de-tabula√ß√µes",
    "href": "sql.html#exemplos-de-tabula√ß√µes",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.7 Exemplos de tabula√ß√µes",
    "text": "3.7 Exemplos de tabula√ß√µes\n\n3.7.1 Tabula√ß√µes simples\nTabula√ß√µes simples podem ser obtidas usando alguma fun√ß√£o de agrega√ß√£o como count,sum,avg e combinadas com group by e order by\nselect racaCor,count(racaCor) as freq\nfrom esus2\ngroup by racaCor \norder by freq desc;\n\n\n3.7.2 Tabula√ß√µes avan√ßadas\nTabula√ß√µes avan√ßadas como tabelas cruzadas necessitam de c√≥digos mais complexos usando CASE WHEN , PIVOT , WITH , subquery etc‚Ä¶\nAbaixo um exemplo geral de como fazer uma tabela cruzada num SQL qualquer(a vers√£o ISO-92 foi uma das grandes revis√µes, a mais atual √© a ISO-2023).\nSELECT \n    classificacaoFinal,\n    SUM(CASE WHEN sexo = 'Masculino' THEN 1 ELSE 0 END) AS Masculino,\n    SUM(CASE WHEN sexo = 'Feminino' THEN 1 ELSE 0 END) AS Feminino,\n    Masculino+Feminino as Total\nFROM esus2\nGROUP BY 1\nORDER BY 2 ;\nUsando o dialeto SQL do duckDB (o PostgreSQL √© 98% semelhante ) podemos usar o comando PIVOT que reorganiza dados de uma tabela, transformando valores de uma coluna em nomes de colunas e aplicando uma fun√ß√£o de agrega√ß√£o para calcular os valores correspondentes.\nNo uso a seguir n√£o temos a categoria Total que teria de ser implementada de outra forma. Por outro lado, o comando √© mais enxuto e objetivo.\nSELECT * FROM (\n    SELECT classificacaoFinal, sexo\n    FROM esus2\n) PIVOT (COUNT(*) FOR sexo IN ('Masculino', 'Feminino'))\nORDER BY 2 ;\nE se quis√©ssemos adicionar uma linha final totalizando todas as classifica√ß√µes?\nSELECT \n    'Total' AS classificacaoFinal,\n    SUM(CASE WHEN sexo = 'Masculino' THEN 1 ELSE 0 END) AS Masculino,\n    SUM(CASE WHEN sexo = 'Feminino' THEN 1 ELSE 0 END) AS Feminino,\n    Masculino + Feminino AS Total\nFROM esus2\nORDER BY   Total\nE como colocar tudo isso junto numa mesma query?\nSELECT \n    classificacaoFinal,\n    SUM(CASE WHEN sexo = 'Masculino' THEN 1 ELSE 0 END) AS Masculino,\n    SUM(CASE WHEN sexo = 'Feminino' THEN 1 ELSE 0 END) AS Feminino,\n     Masculino + Feminino AS Total\nFROM esus2\nGROUP BY 1\nUNION ALL\nSELECT \n    'Total' AS classificacaoFinal,\n    SUM(CASE WHEN sexo = 'Masculino' THEN 1 ELSE 0 END) AS Masculino,\n    SUM(CASE WHEN sexo = 'Feminino' THEN 1 ELSE 0 END) AS Feminino,\n    Masculino + Feminino AS Total\nFROM esus2\nORDER BY   Total\nSe voc√™ fez tudo corretamente deve chegar a uma tabela como essa:\n\n\n3.7.2.1 Common Table Expression (CTE)\nUma CTE √© uma subconsulta que pode ser nomeada e usada dentro de uma consulta SQL subsequente. Ela √© definida com a cl√°usula WITH e serve para organizar e simplificar consultas complexas, tornando o c√≥digo mais leg√≠vel e f√°cil de manter.\nWITH filtro_obito as (\n   select * \n   from esus2\n   where evolucaoCaso = '√ìbito' and regexp_matches(classificacaoFinal,'^Confirmado','i') \n) \nSELECT sexo, \n    count(*) as freq , \n    ROUND((freq * 100.0 / (SELECT COUNT(*) FROM filtro_obito )), 2) AS percentual \nfrom filtro_obito \ngroup by 1;\nNote o uso de uma das fun√ß√µes de express√£o regular (regexp_matches) para selecionar todos que come√ßam pela palavra ‚ÄúConfirmado‚Äù . Existem muitas fun√ß√µes que lidam com textos e o uso delas em especial das express√µes regulares nos possibilita uma enorme gama de solu√ß√µes r√°pidas e simples.\nVamos ver mais sobre esse assunto na pr√≥xima aula.",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "sql.html#conclus√£o",
    "href": "sql.html#conclus√£o",
    "title": "2¬† Banco de Dados & SQL",
    "section": "3.8 Conclus√£o",
    "text": "3.8 Conclus√£o\n\nConclus√µes da aula de SQL\nEsses s√£o apenas os primeiros passos no SQL h√° muito mais a ser aprendido como voc√™s viram ele √© flex√≠vel e relativamente simples ainda que tenhamos de escrever um c√≥digo um tanto mais longo se comparado ao R.\n\nSQL √© linguagem nativa para manipula√ß√£o e consulta de dados em bancos relacionais, enquanto R e Python s√£o linguagens gerais\nSQL √© otimizado para consultas em grandes volumes de dados armazenados em bancos, com suporte a √≠ndices, otimiza√ß√£o de consultas e ACID (atomicidade, consist√™ncia, isolamento, dura√ß√£o).\nSQL √© padr√£o para interagir com bancos de dados, facilitando a manipula√ß√£o de dados diretamente no armazenamento, sem precisar carregar todos os dados em mem√≥ria (como em R/Python)\nSQL √© mais eficiente para consultas distribu√≠das (ex: clusters, bancos em nuvem)\n\nOnde aprender mais sobre SQL:\nExistem muitos tutoriais em plataformas de cursos (a maioria n√£o √© gratuita) , livros, cap√≠tulos de livros , apostilas e v√≠deos no youtube.\nAbaixo alguns recursos gratuitos:\n\nTutorial online W3 - com exerc√≠cios interativos\nSQL Tutorial in PDF\nDocumenta√ß√£o online do duckDB",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Banco de Dados & SQL</span>"
    ]
  },
  {
    "objectID": "tidy_import.html",
    "href": "tidy_import.html",
    "title": "3¬† Importando e arrumando dados",
    "section": "",
    "text": "3.1 O universo tidy: tidyverse\nO tidyverse revolucionou como os cientistas de dados trabalham usando o R. Ele promove uma filosofia de programa√ß√£o clara, consistente e f√°cil de aprender, o que o tornou extremamente popular e influente no ecossistema do R e na ci√™ncia de dados.\nO tidyverse n√£o √© um √∫nico pacote, mas sim um metapacote, ou seja, uma cole√ß√£o de pacotes que compartilham uma filosofia comum, formando um framework completo para a ci√™ncia de dados em R constru√≠do sobre tr√™s pilares essenciais:",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Importando e arrumando dados</span>"
    ]
  },
  {
    "objectID": "tidy_import.html#o-universo-tidy-tidyverse",
    "href": "tidy_import.html#o-universo-tidy-tidyverse",
    "title": "3¬† Importando e arrumando dados",
    "section": "",
    "text": "a filosofia dos dados arrumados,\no poder da programa√ß√£o funcional e\na clareza do operador pipe.\n\n\n3.1.1 A filosofia dos dados arrumados (tidy data)\nNo cora√ß√£o do tidyverse est√° o conceito de tidy data, que defende uma estrutura de dados consistente e universal:\n\nCada vari√°vel deve ter sua pr√≥pria coluna.\nCada observa√ß√£o (ou caso) deve ter sua pr√≥pria linha.\nCada unidade de medida deve ter sua pr√≥pria tabela. (Se voc√™ tem dados sobre diferentes tipos de coisas, essas coisas deveriam estar em tabelas separadas.)\n\nAo organizar os dados dessa forma, o tidyverse garante que todas as suas ferramentas funcionem perfeitamente juntas, simplificando tarefas de manipula√ß√£o e an√°lise que seriam complexas de outra forma.\n\n\n3.1.2 O poder da programa√ß√£o funcional\nO tidyverse faz uso extensivo de fun√ß√µes que executam uma √∫nica tarefa bem definida. Essa abordagem, conhecida como programa√ß√£o funcional, promove a reutiliza√ß√£o do c√≥digo e o torna mais f√°cil de ler e entender. Em vez de escrever loops complexos, voc√™ pode usar fun√ß√µes concisas para aplicar opera√ß√µes a grupos de dados, o que torna seu c√≥digo mais robusto e menos propenso a erros.\n\n\n3.1.3 A clareza do operador pipe (%&gt;% ou |&gt; no R 4.1+)\nO operador pipe √© o que realmente torna o c√≥digo tidyverse t√£o intuitivo. Ele permite que voc√™ encaminhe o resultado de uma fun√ß√£o diretamente para a pr√≥xima, criando uma sequ√™ncia l√≥gica de opera√ß√µes. Isso melhora drasticamente a legibilidade e a manuten√ß√£o do seu c√≥digo.\ndados |&gt;                        # Come√ßa com o objeto 'dados'\n  select(coluna1, coluna2) |&gt;   # Usa select() para manter apenas as vari√°veis coluna1 e coluna2\n  filter(coluna1 == 'exemplo')  # Depois, usa filter() para manter apenas as linhas onde coluna1 == 'exemplo'\nO operador pipe pega o resultado da linha anterior e passa como primeiro argumento para a fun√ß√£o da pr√≥xima linha. Assim:\nfilter(select(dados, coluna1, coluna2), coluna1 == 'exemplo')\nMas com o pipe, fica mais leg√≠vel e mais pr√≥ximo da l√≥gica humana: ‚Äúpegue os dados ‚Üí selecione colunas ‚Üí filtre as linhas‚Äù.\nJuntos, esses tr√™s pilares criam uma abordagem de ci√™ncia de dados que √© consistente, poderosa e, acima de tudo, agrad√°vel de se trabalhar.\n\n\n3.1.4 Principais pacotes do tidyverse\n\n\nreadr: Para importa√ß√£o de dados. O readr oferece uma maneira r√°pida e robusta de ler arquivos de texto retangular, como CSV e TSV. Ele √© mais r√°pido que as fun√ß√µes base do R e importa os dados diretamente no formato tibble, facilitando a pr√≥xima etapa de an√°lise.\ntibble: Para criar (tibble()) e transformar (as_tibble()) data frames no formato tibble, um formato mais moderno, eficiente e leg√≠vel. Melhora a exibi√ß√£o dos dados (glimpse()) e mant√©m tipos de dados consistentes durante opera√ß√µes.\ndplyr: Para manipula√ß√£o de dados. Com ele, voc√™ pode filtrar linhas (filter()), selecionar colunas (select()), reorganizar dados (arrange()), e resumir dados (summarise()), tudo de maneira clara e leg√≠vel. Ele substitui a necessidade de escrever c√≥digos complexos e muitas vezes confusos para essas tarefas.\ntidyr: Para arrumar dados. Este pacote √© fundamental para transformar dados ‚Äúbagun√ßados‚Äù em ‚Äúarrumados‚Äù (tidy data). Fun√ß√µes como pivot_wider() e pivot_longer() s√£o essenciais para remodelar tabelas de forma eficiente, uma tarefa comum e muitas vezes dif√≠cil.\nggplot2: Para visualiza√ß√£o de dados. Considerado um dos melhores pacotes de gr√°ficos em R, o ggplot2 permite criar gr√°ficos impressionantes e personalizados. Ele se baseia na ‚ÄúGram√°tica dos Gr√°ficos‚Äù, onde voc√™ constr√≥i seu gr√°fico camada por camada, dando controle total sobre cada elemento visual.\npurrr: Para programa√ß√£o funcional. O purrr ajuda a trabalhar com listas e vetores, substituindo loops for por fun√ß√µes mais concisas e expressivas como map(), tornando seu c√≥digo mais f√°cil de ler e menos propenso a erros.\nstringr: Para manipula√ß√£o de strings. Este pacote simplifica as opera√ß√µes com texto, como detec√ß√£o, extra√ß√£o e substitui√ß√£o de padr√µes.\nlubridate: Para manipula√ß√£o de datas e horas de forma mais acess√≠vel e eficiente.\nforcats: Para trabalhar com vari√°veis categ√≥ricas (fatores).\n\n\n\n3.1.5 Import√¢ncia no ecossistema R\n\nSimplifica√ß√£o da manipula√ß√£o e an√°lises de dados: o tidyverse reduziu drasticamente a complexidade da manipula√ß√£o e an√°lises de dados no R. Antes do tidyverse, muitas tarefas exigiam c√≥digos mais longos, complexos e dif√≠ceis de entender.\nMelhoria da legibilidade do c√≥digo: A filosofia do tidyverse enfatiza a legibilidade do c√≥digo, o que facilita a colabora√ß√£o e a manuten√ß√£o de projetos.\nAumento da produtividade: A sintaxe clara e consistente do tidyverse permite que os usu√°rios realizem tarefas mais rapidamente.\nAmplia√ß√£o da acessibilidade: O tidyverse tornou a manipula√ß√£o e an√°lise de dados em R mais acess√≠veis para pessoas com diferentes n√≠veis de experi√™ncia.\nInflu√™ncia em outras bibliotecas: A filosofia do tidyverse influenciou o design de outras bibliotecas R, promovendo a consist√™ncia e a clareza.\nComunidade ativa: O tidyverse possui uma comunidade grande e ativa que oferece suporte, compartilha conhecimento e desenvolve novas ferramentas.\n\n\n\n3.1.6 A cria√ß√£o do tidyverse\nA cria√ß√£o do tidyverse foi um processo cont√≠nuo de desenvolvimento, n√£o um evento √∫nico. Sua filosofia central sempre foi tornar a manipula√ß√£o e visualiza√ß√£o de dados mais organizada, padronizada e acess√≠vel.\nO projeto foi iniciado por Hadley Wickham, que, na √©poca, era professor adjunto de estat√≠stica na Universidade de Auckland, Nova Zel√¢ndia. Ele j√° estava desenvolvendo pacotes influentes como o ggplot2 para visualiza√ß√£o e o dplyr para manipula√ß√£o de dados.\nMais tarde, Wickham se juntou √† empresa RStudio como Cientista chefe. O empresa RStudio posteriormente mudou de nome para Posit e se tornou o lar do tidyverse, apoiando e impulsionando seu desenvolvimento e popularidade na comunidade de R.\n\nVamos falar mais sobre o tidyverse e ver exemplos ao logo do curso. Algumas vezes vamos usar fun√ß√µes do m√≥dulo base do R, pois podem ser mais r√°pidas ou para ilustrar algum ponto. Lembre-se que para voc√™ usar plenamente o R n√£o basta conhecer o tidyverse, tamb√©m precisa saber usar bem o m√≥dulo base!",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Importando e arrumando dados</span>"
    ]
  },
  {
    "objectID": "tidy_import.html#importando-dados",
    "href": "tidy_import.html#importando-dados",
    "title": "3¬† Importando e arrumando dados",
    "section": "3.2 Importando dados",
    "text": "3.2 Importando dados\nA importa√ß√£o de dados √© um dos primeiros e mais cruciais passos em qualquer projeto de Ci√™ncia de Dados. A qualidade e a efici√™ncia desse processo impactam diretamente a qualidade da an√°lise e dos resultados. Aqui vamos falar da importa√ß√£o de dados, cobrindo principais formatos, fun√ß√µes de leitura, melhores pr√°ticas e considera√ß√µes e observa√ß√µes:\nPodemos ver no diagrama abaixo (adaptado de Wickham & Grolemund, 2017), as principais etapas que veremos nesse curso e como tudo come√ßa com a Importa√ß√£o dos dados.\n\nExistem diversas maneiras de importar o dados em R. As principais s√£o:\n\nImportando de arquivos locais,\nImporta√ß√£o via WEB (APIs, http,ftp, Scraping),\nAcesso a Banco de Dados.\n\nVamos olhar cada uma delas.\n\n3.2.1 Importando de arquivos locais\nEssa √© a maneira que todos est√£o mais acostumados. Em geral se importa um arquivo texto do tipo CSV ou ainda TXT com algum tipo de delimitador, que pode ser espa√ßo,  ou qualquer outro.\nComumente se utiliza a fun√ß√£o read.table() ou alguma de suas variantes como read.csv() ou read.csv2().\nAlguns exemplos:\ndados &lt;- read.csv2(\"planilha.csv\")  \n# ou \ndados2  &lt;- read.table(\"arquivo.txt\", header=F, sep=\";\")\n\n3.2.1.1 Benchmarks e cuidados na importa√ß√£o\nUm r√°pido benchmark compara o tempo que cada uma das fun√ß√µes em R (em diferentes pacotes), Python e duckDB demorou para ler um arquivo CSV de 1.5 Gb contendo 3.297.660 linhas e 123 colunas.\n\n\n\nfun√ß√£o\npacote\ntempo\ntam\nstatus\n\n\n\n\nread.csv\nR base\n28.95s\n1.592.365\nwarning\n\n\nread_csv\npandas (python)\n21.40s\n3.254.452\nwarning\n\n\nread_csv\nreadr (tidyverse)\n16.34s\n3.253.190\nwarning\n\n\nvroom\nvroom\n8.76s\n3.253.190\nwarning\n\n\nfread\ndata.table\n4.28s\n‚Äî\nErro\n\n\nread_csv\nduckDB\n1.87s\n1.620.028\nwarning\n\n\n\nNote que nenhuma das fun√ß√µes leu todo o arquivo! A read_csv do pandas, a read_csv do readr e a vroom do pacote de mesmo nome foram as que mais se aproximaram de ler todo o arquivo. A fun√ß√£o read.csv do m√≥dulo base n√£o s√≥ foi a mais lenta como leu cerca da metade do arquivo demorando quase 29 segundos, j√° a fun√ß√£o read_csv do duckDB tamb√©m leu apenas ~1.6 milh√µes de registos em menos de 2 segundos.\n\nObserva√ß√£o importante:\nComo vimos, nem sempre a importa√ß√£o ocorre da maneira que imaginamos e poucos se d√£o ao trabalho de ler as mensagens de aviso. o formato CSV, que √© apenas um texto separado por um caractere (em geral uma ‚Äú,‚Äù ou ‚Äú;‚Äù), pode facilmente ser comprometido. Basta qualquer linha que tenha um desses caracteres, (por exemplo, um endere√ßo ter um desses delimitadores e n√£o estar entre aspas) para gerar problemas.\nAo exportar um arquivo para CSV lembre-se sempre de configurar para que os campos textos sejam inclu√≠dos entre aspas! (Nem sempre resolve, pois pode ter uma ou mais aspas soltas, o que tamb√©m vai corromper o arquivo CSV).\n\nTamb√©m algumas vezes podemos importar algum formato oriundo de outro software, como o SPSS, STATA, SAS, ou at√© mesmo o extinto formato DBF. No R √© necess√°rio chamar o pacote haven, parte do tidyverse, ou a foreign do R base.\nNo pacote haven voc√™ encontra as fun√ß√µes read_sas(), read_sav() e read_dta() para importar respectivamente do SAS, SPSS e STATA.\nPor conta da influ√™ncia dos sistemas do DATASUS na sa√∫de, at√© hoje temos de lidar com um formato legado chamado DBASE que possui a extens√£o .DBF ou ainda .DBC (DBase compactado, formato criado pelo DATASUS).\nPara importar um DBF com o pacote foreign:\nlibrary(foreign)\ndados &lt;- read.dbf(\"datasus.dbf\", as.is=TRUE) \n## as.is = TRUE n√£o transforma as strings em fatores\nJ√° para o DBC vamos precisar do pacote read.dbc, desenvolvido por Daniela Petruzalek. N√£o est√° dispon√≠vel no CRAN (o reposit√≥rio oficial do R) no momento deste curso. Por isso, para instal√°-lo, voc√™ precisar√° seguir um procedimento alternativo. Vamos instalar do reposit√≥rio no github da autora e, para isso, precisamos do pacote devtools instalado.\ndevtools::install_github(\"danicat/read.dbc\")\nlibrary(read.dbc)\ndados &lt;- read.dbc(\"datasus.DBC\", as.is=TRUE)  ## DBC √© um DBF mas compactado\n\n\n\n3.2.2 Importando via WEB\nUma das facilidades do R que √© pouco explorada √© a possibilidade de ler arquivo atrav√©s da internet. Algumas das fun√ß√µes podem acessar diretamente e referenciar um link remoto (URL).\nVeja o exemplo abaixo:\nlibrary(tidyverse)\ntab &lt;- read_csv('https://raw.githubusercontent.com/wcota/covid19br/refs/heads/master/cases-brazil-cities.csv')\nhead(tab)\n\nTendo o endere√ßo da URL, em apenas um comando podemos importar o conte√∫do de uma tabela ou dados localizados numa p√°gina.\nEssa p√°gina pode ser num local web usando o protocolo https, http ou, por exemplo, ftp.\npaises &lt;- read_csv('http://157.86.198.20/dados/paises.csv')\nMas nem sempre √© t√£o simples assim. A seguran√ßa na web evoluiu significativamente, e os navegadores modernos e at√© mesmo as ferramentas que fazem requisi√ß√µes HTTP est√£o se tornando cada vez mais rigorosas na valida√ß√£o de certificados SSL/TLS.\nVamos baixar uma lista de pre√ßos de medicamentos do site da ANVISA:\nurl &lt;- \"https://dados.anvisa.gov.br/dados/TA_PRECOS_MEDICAMENTOS.csv\"\nread_csv(url)\n\nAinda √© poss√≠vel acessar a tabela, mas vamos precisar de um pacote chamado httr2, usado para ‚Äúraspagem‚Äù (scrapper) de dados da web. Nesse pacote podemos dizer para que a autentica√ß√£o seja ignorada desativando as op√ß√µes (ssl_verifypeer e ssl_verifyhost). Assim, nem a conex√£o e nem o site ser√£o validados.\nlibrary(httr2)\n\nreq &lt;- request(url) |&gt;\n  req_options(ssl_verifypeer = 0) |&gt;\n  req_options(ssl_verifyhost = 0)\no comando acima montou uma requisi√ß√£o ‚Äúreq‚Äù que vai ser executada a seguir pela fun√ß√£o req_perform(). Somente o dado ser√° acessado.\nA fun√ß√£o resp_status() vai nos retornar o c√≥digo web resultante da opera√ß√£o. Caso seja 200, a opera√ß√£o foi realizada com sucesso. Caso a p√°gina ou a URL esteja mal formatada, teremos como resultado o c√≥digo 404, tamb√©m conhecido como ‚ÄúP√°gina N√£o Encontrada‚Äù.\nresposta &lt;- req_perform(req)\n\nresp_status(resposta)  ## ou resposta$status_code \n# [1] 200\nRecebemos o c√≥digo 200, indicando que a fun√ß√£o foi bem sucedida, mas n√£o termina aqui ainda. √â necess√°rio extrair o dado do objeto resposta para poder import√°-lo usando uma fun√ß√£o como read_csv(). Nesse caso vamos usar read_delim().\nA fun√ß√£o resp_body_raw() √© a que vai extrair os dados do objeto resposta e passar a fun√ß√£o que vai realizar a importa√ß√£o. Vamos informar a fun√ß√£o read_delim() que o delimitador √© ‚Äú;‚Äù e tamb√©m que o code_page usados para a acentua√ß√£o √© o Latin-1 (o mesmo que ISO-8859-1 / Windows-1252), usado, em geral, pelo Windows. J√° o Linux e o MAC utilizam UTF-8 . Assim, se o seu computador roda Linux, √© preciso informar isso. Caso voc√™ use Windows, n√£o √© necess√°rio, mas tamb√©m n√£o retorna erro se usar.\nanvisa &lt;- read_delim(file=resp_body_raw(resposta), delim = ';',\nlocale=locale(encoding='latin1'))\n\nanvisa\n\nComo podem ver, obtivemos 53436 linhas e 16 colunas.\nPodemos agora perguntar, por exemplo, quantos medicamentos est√£o registados que usam acido acetilsalic√≠lico nesta base.\nanvisa |&gt; \n  filter(str_detect(DS_SUBSTANCIA, 'acetilsalic√≠lico')) |&gt;\n  nrow()\n# [1] 281\nN√£o se preocupe que vamos ver em maiores detalhes essas fun√ß√µes acima nas pr√≥ximas aulas.\n\n\n3.2.3 Acessando o feed de not√≠cias RSS do Minist√©rio da Sa√∫de\nVamos acessar o RSS que √© o servi√ßo de not√≠cias do MS. O formato dos dados est√° em XML.\nFormatos XML e JSON.\nlibrary(xml2)\n\n# URL do feed RSS\nrss_url &lt;- \"https://www.gov.br/aids/pt-br/assuntos/noticias/site-feed/RSS\"\n# Leia o conte√∫do do XML da URL\nxml_data &lt;- read_xml(rss_url)\n# Defina os namespaces usados no arquivo XML\nnamespaces &lt;- c(\n  rdf = \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n  d1 = \"http://purl.org/rss/1.0/\"\n)\n# Encontre todos os n√≥s &lt;item&gt; usando o namespace padr√£o\nitems &lt;- xml_find_all(xml_data, \"//d1:item\", ns = namespaces)\n# Extraia os t√≠tulos de cada &lt;item&gt;\n# O t√≠tulo est√° na tag 'title'\ntitulo &lt;- xml_text(xml_find_all(items, \"d1:title\", ns = namespaces))\n# Extraia os links de cada &lt;item&gt;\n# O link da not√≠cia est√° na tag 'link'\nlinks &lt;- xml_text(xml_find_all(items, \"d1:link\", ns = namespaces))\n# o mesmo para o corpo\ncorpo &lt;- xml_text(xml_find_all(items, \"d1:description\", ns = namespaces))\n# Crie um data frame para organizar as informa√ß√µes\nnoticias_df &lt;- data.frame(\n  Titulo = titulo,\n  Corpo = corpo,\n  Link = links,\n  stringsAsFactors = FALSE\n)\nprint(noticias_df)\n\n\n3.2.4 Usando uma API para acessar Dados\nO que √© um API?\nUma Application Programming Interface (API), em portugu√™s, Interface de Programa√ß√£o de Aplica√ß√µes, √© um conjunto de defini√ß√µes, protocolos e ferramentas para a cria√ß√£o de software e acesso a dados. Pense nela como um meio que permite a comunica√ß√£o entre diferentes programas, ou mesmo entre um software e um hardware. As APIs s√£o amplamente utilizadas no desenvolvimento de software para integrar sistemas e funcionalidades.\nNeste curso, vamos nos concentrar no uso de APIs Web, tamb√©m conhecidas como Web Services ou Web APIs. Como voc√™ pode ver no gr√°fico abaixo, o uso delas tem crescido significativamente, impulsionado pela populariza√ß√£o de reposit√≥rios de dados e pela crescente ado√ß√£o de pol√≠ticas de dados abertos por governos e institui√ß√µes.\n\nPara entendermos melhor como funciona uma API, imagine que voc√™ √© o cliente (software) e vai a um restaurante, escolhe um prato (dados) que consta de um menu (lista de dados dispon√≠veis) faz o pedido ao gar√ßon (API) que leva o seu pedido a cozinha (servidor) onde o chefe (SGBD) vai preparar o seu prato. Uma vez pronto o seu prato √© levado a voc√™ pelo gar√ßon (API). Em alguns casos o menu pode deixar voc√™ customizar alguns aspetos do prato(dado), por exemplo, o ponto do fil√©, que deve ser especificado ao gar√ßon (API) e preparado pelo chefe dentro de par√¢metros pre estabelecidos.\n\n\n3.2.5 API do INFODENGUE\nO InfoDengue √© um sistema de alerta para arboviroses baseado em dados h√≠bridos gerados por meio da an√°lise integrada de dados minerados a partir da web social e de dados clim√°ticos e epidemiol√≥gicos.\nEm 2021, o sistema ganhou amplitude nacional com o apoio do Minist√©rio da Sa√∫de realizando an√°lises em n√≠vel estadual. Com isso, mais secretarias passaram a receber semanalmente os boletins do InfoDengue. Implementado em 2015, o sistema foi desenvolvido por pesquisadores do Programa de Computa√ß√£o Cient√≠fica (Funda√ß√£o Oswaldo Cruz, RJ) e da Escola de Matem√°tica Aplicada (Funda√ß√£o Get√∫lio Vargas) com a forte colabora√ß√£o da Secretaria Municipal de Sa√∫de do Rio de Janeiro\nAs tabelas geradas pelo Infodengue contem dados agregados por semana provenientes de diferentes fontes. Elas podem ser consultadas via formul√°rio, ou diretamente do R, por meio de uma consulta √† API.\nEssa funcionalidade est√° dispon√≠vel por meio da URL:\nhttps://info.dengue.mat.br/api/alertcity?PARAMETROS_DA_CONSULTA\nOnde PARAMETROS_DA_CONSULTA deve conter os par√¢metros:\ngeocode: c√≥digo IBGE da cidade\ndisease: tipo de doen√ßa a ser consultado (dengue|chikungunya|zika)\nformat: formato de sa√≠da dos dados (str:json|csv)\new_start: semana epidemiol√≥gica de in√≠cio da consulta (int:1-53)\new_end: semana epidemiol√≥gica de t√©rmino da consulta (int:1-53)\ney_start: ano de in√≠cio da consulta (int:0-9999)\ney_end: ano de t√©rmino da consulta (int:0-9999)\nATEN√á√ÉO Todos os par√¢metros acima mencionados s√£o obrigat√≥rios para a consulta.\nRetorno da API do Infodengue\nurl &lt;- \"https://info.dengue.mat.br/api/alertcity?\"\ngeocode &lt;- 4108304\ndisease &lt;- \"dengue\"\nformat &lt;- \"csv\"\new_start &lt;- 1\new_end &lt;- 52\ney_start &lt;- 2015\ney_end &lt;- 2025\nEm seguida precisamos concatenar a string de consulta a API nossa URL a cada um dos par√¢metros separados por &\ncons &lt;- paste0(url,\"geocode=\",geocode,\"&disease=\",disease,\"&format=\",\nformat,\"&ew_start=\",ew_start,\"&ew_end=\",ew_end,\"&ey_start=\",ey_start,\n\"&ey_end=\",ey_end)\nFormando a seguinte URL que far√° a consulta ao site do infodengue:\n\nhttps://info.dengue.mat.br/api/alertcity?geocode=4108304&disease=dengue&format=csv &ew_start=1&ew_end=53&ey_start=2015&ey_end=2025\n\nExecutando o c√≥digo abaixo vamos receber o resultado da nossa consulta.\ndengue_foz &lt;- read_csv(cons)\nnrow(dengue_foz)\nglimpse(dengue_foz)\n\n\n3.2.6 API Open-Meteor\nA API do Open-Meteo √© uma interface de programa√ß√£o de aplicativos que oferece dados de previs√£o do tempo e clim√°ticos de forma gratuita e com c√≥digo aberto para uso n√£o comercial e para desenvolvedores e n√£o requer nem cadastro e nem chave para poder acessar.\nPrevis√£o para o Rio\nmeteor &lt;- 'https://api.open-meteo.com/v1/forecast?latitude=-22.875&longitude=-43.25&timezone=America/Sao_Paulo,&current=temperature_2m,relative_humidity_2m,wind_speed_10m&hourly=temperature_2m,relative_humidity_2m,wind_speed_10m'\n\nprevisao &lt;- jsonlite::read_json(meteor,simplifyVector = T)\n\nprevisao\n\n\n\n3.2.7 Importando diretamente do DATASUS\nO datasus al√©m dos conhecidos servi√ßos disponibilizados pela internet tamb√©m, h√° muitos anos, possui um servidor FTP de onde podemos descarregar diretamente os dados.\nPodemos usar fun√ß√µes do R para fazer o download de um arquivo usando o protocolo FTP por exemplo:\ndownload.file(\"ftp://ftp.datasus.gov.br/territorio/tabelas/04-base_territorial_abr25.zip\",\"base_terr.zip\")\nVamos agora ‚Äúdescompactar‚Äù o arquivo ZIP. Em primeiro lugar vamos selecionar um diret√≥rio tempor√°rio que est√° sendo usado usando pelo R no seu sistema operacional. ‚Äã\nloc &lt;- tempdir()\nloc\nEm seguida vamos mandar extrair o conte√∫do do ZIP nesse diret√≥rio tempor√°rio e usar o dir desse local para verificar se o conte√∫do foi expandido.\nunzip(\"base_terr.zip\",exdir=loc)\ndir(loc)\na partir dai voc√™ poderia importar um ou mais dos arquivos que foram expandidos.\narq &lt;- paste0(loc,\"/\",\"tb_uf.csv\")\ntb_uf &lt;- read_csv2(arq,locale = locale(encoding = 'latin1'))\n\n3.2.7.1 Exemplo: Importando SINASC do Acre diretamente do DATASUS\nat√© aqui voc√™ j√° viu todos os elementos necess√°rios para fazer a importa√ß√£o de dados direto do FTP do DATASUS, o que precisamos √© um workflow, ou seja, um plano, para fazer a importa√ß√£o.\n\n\nem primeiro lugar vamos usar o pacote RCurl que permite acesso a paginas http , https, ftp etc‚Ä¶\nlibrary(RCurl)\nurl &lt;- 'ftp://ftp.datasus.gov.br/dissemin/publicos/SINASC/NOV/DNRES/'\nlista &lt;- getURL(url)\nvamos inspecionar o objeto lista. como voc√™s podem observar esse arquivo precisa ainda ser transformado para ser usado.\nlista &lt;- str_split(lista,'\\n')\nap√≥s pedirmos ao R para inserir uma quebra apos o caractere ‚Äò***‚Äô agora fica mais f√°cil de entender a listagem que obtivemos!\nvamos selecionar como UF o Acre pois o tamanho dos arquivos √© pequeno e a rede da ENSP em geral n√£o √© r√°pida.\nl2 &lt;- str_extract(lista[[1]],'(DNAC\\\\d+.[dbc|DBC]{3})')## DN do ACRE\nAqui vamos fazer um par√™ntesis para falar de um recurso extremamente poderoso, as express√µes regulares conhecidas por REGEX\nAgora que voc√™s j√° aprenderam um pouco sobre as REGEX vamos selecionar as linhas que possuem as DN do ACRE\nde uma maneira simples selecionamos todas que possuem o padr√£o DNAC no nome seguido de um ou mais numeros (\\d+) e terminado em .dbc ou .DBC.\nOnde n√£o houve match a fun√ß√£o retorna NA, assim vamos nos livra deles!\n    l3 &lt;- as.vector(na.exclude(l2))\nVerifique o objeto l3 para se certificar que tenhamos somente um vetor de caracteres com o nome dos arquivos! ‚Äã Aqui temos 27 nomes de arquivos , vamos tentar trazer todos.\nComo fazer isso?\nVamos precisar criar uma nova fun√ß√£o que possa fazer o download dos arquivos DBC e posteriormente import√°-los e finalmente juntar todos. Existem diversas maneiras de se fazer isso, mas vamos usar filosofia do tideverse executando a fun√ß√£o map do pacote purr.\nle_dbc &lt;- function(arq) {\n  \n  if(!require(read.dbc))  stop(\"o pacote read.dbc deve estar instalado\") # verifica se existe o pacote e carrega \n  origem &lt;- paste0(url,arq)\n  destino &lt;- paste0( tempdir(),'/temp.dbc')\n  \n  download.file(origem,destino,mode=\"wb\")\n  \n  temp &lt;- read.dbc(destino,as.is=T) |&gt; \n    tibble()\n  \n  file.remove(destino)\n  \n  return(temp)\n}\nVamos testar nossa fun√ß√£o lendo apenas um arquivo, por exemplo o DNAC2020.dbc que est√° na posi√ß√£o 25 do vetor l3.\nteste &lt;- le_dbc(l3[25])\nteste\nSe tudo estiver certo voc√™ vai receber um objeto assim \nApesar da fun√ß√£o ter retornado um tibble podemos notar a necessidade de fazer pequenos ajustes para que ela nos retorne um conjunto de dados melhor para ser trabalhado. Os principais pontos s√£o:\n\ntodas as vari√°veis retornam como texto, transformar em num√©ricas, datas e fatores conforme o caso.\nnome das vari√°veis em mai√∫sculas, usar a fun√ß√£o clean_names() do pacote janitor.\nCriar vari√°veis novas com c√≥digo de munic√≠pio de 6 caracteres para munic√≠pio de resid√™ncia e de notifica√ß√£o\nremover vari√°veis desnecess√°rias e com baixo grau de completude\n\nVamos utilizar o pacote naniar que tem fun√ß√µes que ajudam a sumarizar, visualizar e manipular dados falantes (missing data) .\nAs fun√ß√µes miss_var_summary e gg_miss_var() v√£o nos mostrar quais vari√°veis tem maior grau de dados faltantes.\n naniar::miss_var_summary(teste)\n\nnaniar::gg_miss_var(teste,show_pct = T)\n\nComo podemos observar as vari√°veis DTRECORIGA, CODANOMAL e IDADEPAI todas t√™m alto percentual de NAs . A coluna SERIESCMAEparece em quarto com 58% de dados faltantes baseado nessa amostra das DN do Acre de 2020.\n\nle_dbc &lt;- function(arq) {\n  \n  if(!require(read.dbc))  stop(\"o pacote read.dbc deve estar instalado\") # verifica se existe \n   \n  remover &lt;- c('CODANOMAL','DTRECORIGA','SERIESCMAE','IDADEPAI') ## Vars a remover \n\n  origem &lt;- paste0(url,arq)\n  destino &lt;- paste0( tempdir(),'/temp.dbc')\n  \n  download.file(origem,destino,mode=\"wb\")\n  \n  temp &lt;- read.dbc(destino,as.is=T) |&gt; \n    tibble() |&gt; \n    select(!any_of(remover)) |&gt;\n    janitor::clean_names() |&gt; \n    mutate(peso = as.numeric(peso),\n           idademae = as.numeric(idademae),\n           dtnasc = dmy(dtnasc),\n           codmunres6 = str_sub(codmunres,1,6),\n           codmun6 = str_sub(codmunnasc,1,6))\n  \n  file.remove(destino)\n  \n  return(temp)\n}\nUma vez implementada a nova fun√ß√£o atendendo a todo o itens podemos execut√°-la para todo o nosso conjunto de dados usando a fun√ß√£o map do pacote purrr.\nNa verdade, vamos usar a fun√ß√£o map_df() que agrega os resultados numa estrutura de dados tipo data.frame ou tibble.\nsinasc_ac &lt;- l3 |&gt; map_df(le_dbc)\nEssa fun√ß√£o, na minha m√°quina, demorou 19,5 segundos e retorno um tibble com 433.265 e um tamanho em mem√≥ria de 233.7 Mb contendo todos os Nascidos vivos do AC dispon√≠veis no FTP datasus\nVamos ver como estamos em termos de completude\n naniar::miss_var_summary(sinasc_ac)\n\nnaniar::gg_miss_var(sinasc_ac,show_pct = T)\nComo se pode observar ainda h√° muitas vari√°veis com alta taxa de dados faltantes. Que tal modificar mais uma vez sua fun√ß√£o de leitura e remover tamb√©m essas?\nObserve que o banco passou de 22 colunas em 1996 para 59 em 2022 (ultimo dado dispon√≠vel em 2025) !\nParece que o seu trabalho n√£o terminou!\n\n\n\n3.2.8 Acesso a Base de Dados\n\n\n3.2.9 Armazenado os dados",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Importando e arrumando dados</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Referencias",
    "section": "",
    "text": "Introdu√ß√£o √† Ci√™ncia de Dados. Pedro A. Morettin, Julio M. Singer; Mar√ßo 2020 - PDF\nEstat√≠stica e Ci√™ncia de Dados. Pedro A. Morettin, Julio M. Singer; Abril 2021 - PDF\nModern Data Science with R 2nd edition\nR for Data Science 2nd Edition online R for Data Science. 2nd Edition. Hadley Wickham, Mine √áetinkaya-Rundel, Garrett Grolemund. O‚ÄôReilly Media ; 2023.\nAdvanced R 2nd Edition",
    "crumbs": [
      "Referencias"
    ]
  },
  {
    "objectID": "anexo1.html",
    "href": "anexo1.html",
    "title": "Anexo 1 - Instalando o duckdb",
    "section": "",
    "text": "Principais Caracter√≠sticas\nO duckDB https://duckdb.org/ √© um banco de dados do tipo OLAP de alto desempenho, de c√≥digo aberto, desenvolvido para an√°lise de dados em ambiente de mem√≥ria (in-memory) e processamento de grandes volumes de dados com baixa lat√™ncia e alta velocidade.",
    "crumbs": [
      "Anexo 1 - Instalando o duckdb"
    ]
  },
  {
    "objectID": "anexo1.html#duckdb-online",
    "href": "anexo1.html#duckdb-online",
    "title": "Anexo 1 - Instalando o duckdb",
    "section": "duckDB online",
    "text": "duckDB online\nVoc√™ tamb√©m pode testar o duckdb online atraves desses dois sites abaixo:\n\nSQL Workbench\nDuckDB Web Shell",
    "crumbs": [
      "Anexo 1 - Instalando o duckdb"
    ]
  },
  {
    "objectID": "anexo_xml_json.html",
    "href": "anexo_xml_json.html",
    "title": "Anexo 2 - XML & JSON",
    "section": "",
    "text": "JSON\nXML, do ingl√™s eXtensible Markup Language, √© um formato que permite documentos com dados organizados hierarquicamente em formato textos, pode conter banco de dados ou at√© mesmo desenhos vetoriais. A linguagem XML √© classificada como extens√≠vel porque permite definir os elementos de marca√ß√£o (TAGS).\nOs Elementos XML s√£o extens√≠veis e t√™m relacionamentos.\nOs Elementos XML t√™m regras simples para nomes.\nUm exemplo simples!\nAqui um outro exemplo um pouco mais complexo! O cabe√ßalho define a vers√£o de XML e o tipo de caractere usado!\nOs elementos XML podem ter atributos na tag de abertura, veja que o Elemento Paciente define um atributo matr√≠cula.\nOs atributos s√£o usados para prover informa√ß√£o adicional sobre os elementos.\nE quando temos mais de 1 registro?\nJSON (JavaScript Object Notation - Nota√ß√£o de Objetos JavaScript) √© uma formata√ß√£o leve de troca de dados. Para seres humanos, √© f√°cil de ler e escrever. Para m√°quinas, √© f√°cil de interpretar e gerar. Est√° baseado em um subconjunto da linguagem de programa√ß√£o JavaScript. JSON √© em formato texto e completamente independente de linguagem, pois usa conven√ß√µes que s√£o familiares √†s linguagens C e familiares. Estas propriedades fazem com que JSON seja um formato ideal de troca de dados.\nUm exemplo um pouco mais complicado:",
    "crumbs": [
      "Anexo 2 - XML & JSON"
    ]
  },
  {
    "objectID": "anexo_xml_json.html#json",
    "href": "anexo_xml_json.html#json",
    "title": "Anexo 2 - XML & JSON",
    "section": "",
    "text": "{ \"nome\":\"Jo√£o da Silva\", \"idade\":37, \"cidade\":\"Rio de Janeiro\" };\n\n{\n  \"nome\": \"Jo√£o da Silva\",\n  \"sexo\":\"M\",\n  \"idade\": 37,\n  \"cidade\": \"Rio de Janeiro\",\n  \"telefones\": [\n    {\n      \"tipo\": \"celular\",\n      \"numero\": \"2198777777\"\n    },\n    {\n      \"tipo\": \"residencial\",\n      \"numero\": \"2122233344\"\n    }\n  ],\n  \"casado\": false,\n  \"endere√ßo\": null,\n  \"agravos\":[ \"A90\", \"A16\", \"A92.0\" ]\n}",
    "crumbs": [
      "Anexo 2 - XML & JSON"
    ]
  },
  {
    "objectID": "regex.html",
    "href": "regex.html",
    "title": "Anexo 3 - Express√µes Regulares",
    "section": "",
    "text": "Uma Express√£o Regular, conhecidas por REGEX, √© um m√©todo formal de se especificar um padr√£o de texto.\n√â uma composi√ß√£o de s√≠mbolos, caracteres com fun√ß√µes especiais, chamados ‚Äúmetacaracteres‚Äù que, agrupados formam uma sequencia, ou express√£o regular\nUma express√£o regular √© testada em textos e retorna sucesso caso este texto obede√ßa exatamente a todas as suas condi√ß√µes. Neste caso dizemos que o texto ‚Äúcasa‚Äù com (match) a express√£o regular.\nAs REGEXs servem para se dizer algo abrangente de forma mais rigorosa. Definido o padr√£o, tem-se uma lista (finita ou n√£o) de possibilidades de casamento.\nExemplo: [rgp]ato pode casar com ‚Äúrato‚Äù, ‚Äúgato‚Äù e ‚Äúpato‚Äù Mas n√£o ‚Äúmato‚Äù\nUtilidade das Express√µes Regulares e a busca de padr√µes em textos\n\nData e Hor√°rio\nN√∫mero IP,Sites\nEndere√ßo de e-mail\nURL\nN√∫mero de telefone, CPF, cart√£o de cr√©dito\n\nV√°rios Linguagens de Programa√ß√£o, editores de texto t√™m suporte √†s REGEXs.\nPara exemplificar o uso das REGEX em R , usaremos as fun√ß√µes grep, gsub\ncores &lt;- colors()\ngrep(\"blue\",cores)\nRetorna o √≠ndice de todos os elementos do vetor cores que possuem ‚Äúblue‚Äù\n\nAlguns Metacaracteres\n\nCircunflexo ^ - Simboliza o in√≠cio de uma linha\ngrep(\"^blue\",cores) \n‚Äã ‚Äã\nRetorna o √≠ndice de todos os elementos do vetor cores come√ßados por ‚Äúblue‚Äù\nCifr√£o $ - Simboliza o fim de uma linha\ngrep(\"yellow$\",cores,value=T)\n‚Äã\n\nRetorna o √≠ndice de todos os elementos do vetor cores terminados por ‚Äúyellow‚Äù\n\nListas [] - Simboliza conjunto de caracteres numa determinada posi√ß√£o.\n\n    grep(\"^[aeiou]\",cores,value=T)\ncores come√ßadas por vogais\n    grep(\"[0-9]$\",cores,value=T)\ncores terminadas por numeros\n\nPonto . - Simboliza ‚Äúqualquer‚Äù caracteres numa determinada posi√ß√£o\n\n    grep(\"grey..\",cores,value=T)\ncor cinza seguida por dois caracteres qualquer\n    grep(\"^....$\",cores,value=T)\ncores com apenas 4 caracteres\n\nChaves {} - Simboliza a quantidade de repeti√ß√µes do caractere anterior\n      grep(\"e{2}\",cores,value=T)\npadr√£o onde cores tem dois ‚Äúe‚Äù seguidos\n      grep(\"[0-9]{3,5}\",cores ,value=T)\n\nonde cores tem de 3 a 5 numeros\n\nCuringa * - Simboliza ‚Äúqualquer coisa‚Äù, inclusive nada.\ngrep(\"^[s].*[0-9]$\",cores,value=T)\ncores come√ßadas por ‚Äús‚Äù e terminadas por numero!\nOperador logico OU (OR) ‚Äò|‚Äô\n\nPara fazer um OU l√≥gico, onde buscamos uma coisa OU outra, deve-se usar o | e delimitar as op√ß√µes entre par√™nteses: ‚Äã\n    grep(\"^[w]|^[y]\",cores,value=T)\nN√£o deve conter espa√ßos! Nesse exemplo √© o mesmo que\n    \"^[wy]\"\n\nOperador logico N√ÉO (NOT) [^]\n\nPesquisa para retornar as cores que n√£o come√ßam por vogais\n    grep (\"^[bcdfghjklmnpqrstvwxyz]\",cores)\nOu usar negativa (NOT) usando ‚Äú^‚Äù\n    grep (\"^[^aeiou]\", cores,value=T)\nrepare que o n√£o √© o ^ que est√° dentro das chaves!\n\nIntervalo de Lista [-] - Busca por faixa de caracteres ou n√∫meros\ngrep (‚Äú[0-9]{3,}‚Äù, cores,value=T)\n\nBusca por n√∫meros de tr√™s d√≠gitos ou mais\ngrep(\"[r-z]$\",cores,value=T) \nBusca por cores terminadas com letras entre r e z ‚Äã\nA fun√ß√£o gsub faz substitui√ß√µes em strings usando REGEX ‚Äã\nteste &lt;- \"   caracteres em branco, no incio e final  \"\ngsub(\"^\\\\s+|\\\\s+$\", \"\", teste)\nExistem varias fun√ß√µes que podem usar REGEX, o R utiliza dialeto de REGEX aprenda um pouco mais nessa Vignette e no no cap√≠tulo sobre strings do livro R for Data Science",
    "crumbs": [
      "Anexo 3 - Express√µes Regulares"
    ]
  }
]