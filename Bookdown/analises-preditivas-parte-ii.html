<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 6 Análises Preditivas - Parte II | ESTUDOS ECOLÓGICOS</title>
  <meta name="description" content=" 6 Análises Preditivas - Parte II | ESTUDOS ECOLÓGICOS" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content=" 6 Análises Preditivas - Parte II | ESTUDOS ECOLÓGICOS" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 6 Análises Preditivas - Parte II | ESTUDOS ECOLÓGICOS" />
  
  
  

<meta name="author" content="Oswaldo Cruz &amp; Wagner Tassinari" />


<meta name="date" content="2019-08-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analises-preditivas-parte-i.html">
<link rel="next" href="introducao-a-analise-estatistica-espacial.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.7/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estudos Ecológicos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="apresentacao.html"><a href="apresentacao.html"><i class="fa fa-check"></i><b>1</b> Apresentação</a></li>
<li class="chapter" data-level="2" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html"><i class="fa fa-check"></i><b>2</b> Estudos Ecológicos</a><ul>
<li class="chapter" data-level="2.1" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#o-que-sao-de-estudos-ecologicos"><i class="fa fa-check"></i><b>2.1</b> O que são de Estudos Ecológicos ?</a></li>
<li class="chapter" data-level="2.2" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#objetivos-dos-estudos-ecologicos"><i class="fa fa-check"></i><b>2.2</b> Objetivos dos Estudos Ecológicos ?</a></li>
<li class="chapter" data-level="2.3" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#tipos-de-variaveis-utilizadas"><i class="fa fa-check"></i><b>2.3</b> Tipos de Variáveis Utilizadas</a></li>
<li class="chapter" data-level="2.4" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#tipos-de-variaveis-utilizadas-1"><i class="fa fa-check"></i><b>2.4</b> Tipos de Variáveis Utilizadas</a></li>
<li class="chapter" data-level="2.5" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#tipos-de-desenhos-de-estudos-ecologicos"><i class="fa fa-check"></i><b>2.5</b> Tipos de Desenhos de Estudos Ecológicos</a></li>
<li class="chapter" data-level="2.6" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#alguns-conceitos"><i class="fa fa-check"></i><b>2.6</b> Alguns Conceitos</a></li>
<li class="chapter" data-level="2.7" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#epidemiologia-social"><i class="fa fa-check"></i><b>2.7</b> Epidemiologia social</a></li>
<li class="chapter" data-level="2.8" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#arvores-bosques-ou-as-florestas"><i class="fa fa-check"></i><b>2.8</b> Árvores, Bosques ou as Florestas ?</a><ul>
<li class="chapter" data-level="2.8.1" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#as-arvores"><i class="fa fa-check"></i><b>2.8.1</b> As Árvores</a></li>
<li class="chapter" data-level="2.8.2" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#os-bosques"><i class="fa fa-check"></i><b>2.8.2</b> Os Bosques</a></li>
<li class="chapter" data-level="2.8.3" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#as-florestas"><i class="fa fa-check"></i><b>2.8.3</b> As Florestas</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#falacia-ecologica-ou-vies-de-agregacao"><i class="fa fa-check"></i><b>2.9</b> Falácia Ecológica ou viés de agregação</a></li>
<li class="chapter" data-level="2.10" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#problemas-praticos"><i class="fa fa-check"></i><b>2.10</b> Problemas práticos</a></li>
<li class="chapter" data-level="2.11" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#vantagens"><i class="fa fa-check"></i><b>2.11</b> Vantagens</a></li>
<li class="chapter" data-level="2.12" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#desvantagens"><i class="fa fa-check"></i><b>2.12</b> Desvantagens</a></li>
<li class="chapter" data-level="2.13" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#resumindo"><i class="fa fa-check"></i><b>2.13</b> Resumindo</a></li>
<li class="chapter" data-level="2.14" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#exercicios-propostos"><i class="fa fa-check"></i><b>2.14</b> Exercícios Propostos</a></li>
<li class="chapter" data-level="2.15" data-path="estudos-ecologicos.html"><a href="estudos-ecologicos.html#bibliografia-sugerida"><i class="fa fa-check"></i><b>2.15</b> Bibliografia sugerida</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html"><i class="fa fa-check"></i><b>3</b> Introdução às Séries Temporais</a><ul>
<li class="chapter" data-level="3.1" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#o-que-sao-series-temporais"><i class="fa fa-check"></i><b>3.1</b> O que são Séries Temporais ?</a></li>
<li class="chapter" data-level="3.2" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#hipoteses-basicas-do-estudo-das-st"><i class="fa fa-check"></i><b>3.2</b> Hipóteses básicas do estudo das ST</a></li>
<li class="chapter" data-level="3.3" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#classificacao-dos-tipos-de-st"><i class="fa fa-check"></i><b>3.3</b> Classificação dos tipos de ST</a></li>
<li class="chapter" data-level="3.4" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#processo-estocastico"><i class="fa fa-check"></i><b>3.4</b> Processo Estocástico</a></li>
<li class="chapter" data-level="3.5" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#notacao-e-nomenclatura"><i class="fa fa-check"></i><b>3.5</b> Notação e Nomenclatura</a></li>
<li class="chapter" data-level="3.6" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#objetivos-analise-de-st"><i class="fa fa-check"></i><b>3.6</b> Objetivos : análise de ST</a></li>
<li class="chapter" data-level="3.7" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#estacionariedade"><i class="fa fa-check"></i><b>3.7</b> Estacionariedade</a><ul>
<li class="chapter" data-level="3.7.1" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#funcao-de-autocovariancia-de-um-processo-estacionario"><i class="fa fa-check"></i><b>3.7.1</b> Função de Autocovariância de um processo estacionário</a></li>
<li class="chapter" data-level="3.7.2" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#porque-a-estacionariedade-e-importante"><i class="fa fa-check"></i><b>3.7.2</b> Porque a Estacionariedade é Importante ?</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#componentes-de-uma-serie-temporal"><i class="fa fa-check"></i><b>3.8</b> Componentes de uma Série Temporal</a></li>
<li class="chapter" data-level="3.9" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#independencia"><i class="fa fa-check"></i><b>3.9</b> Independência</a></li>
<li class="chapter" data-level="3.10" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#dependencia"><i class="fa fa-check"></i><b>3.10</b> Dependência</a></li>
<li class="chapter" data-level="3.11" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#funcao-de-autocorrelacao-fac"><i class="fa fa-check"></i><b>3.11</b> Função de Autocorrelação (FAC)</a></li>
<li class="chapter" data-level="3.12" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#componentes-de-uma-serie-temporal-1"><i class="fa fa-check"></i><b>3.12</b> Componentes de uma Série Temporal</a></li>
<li class="chapter" data-level="3.13" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#tendencia"><i class="fa fa-check"></i><b>3.13</b> Tendência</a></li>
<li class="chapter" data-level="3.14" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#ciclo"><i class="fa fa-check"></i><b>3.14</b> Ciclo</a></li>
<li class="chapter" data-level="3.15" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#sazonalidade"><i class="fa fa-check"></i><b>3.15</b> Sazonalidade</a><ul>
<li class="chapter" data-level="3.15.1" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#como-detectar-a-sazonalidade"><i class="fa fa-check"></i><b>3.15.1</b> Como detectar a sazonalidade ?</a></li>
</ul></li>
<li class="chapter" data-level="3.16" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#termo-aleatorio-ou-ruido-branco"><i class="fa fa-check"></i><b>3.16</b> Termo Aleatório ou Ruído Branco</a></li>
<li class="chapter" data-level="3.17" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#composicao-dos-modelos-de-uma-st"><i class="fa fa-check"></i><b>3.17</b> Composição dos Modelos de uma ST</a><ul>
<li class="chapter" data-level="3.17.1" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#modelo-aditivo"><i class="fa fa-check"></i><b>3.17.1</b> Modelo Aditivo</a></li>
<li class="chapter" data-level="3.17.2" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#modelo-multiplicativo"><i class="fa fa-check"></i><b>3.17.2</b> Modelo Multiplicativo</a></li>
</ul></li>
<li class="chapter" data-level="3.18" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#decomposicao-de-um-st"><i class="fa fa-check"></i><b>3.18</b> Decomposição de um ST</a></li>
<li class="chapter" data-level="3.19" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#pratica-no-r"><i class="fa fa-check"></i><b>3.19</b> Prática no R</a><ul>
<li class="chapter" data-level="3.19.1" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#a-funcao-ts-e-a-mais-utilizada-no-pacote-r."><i class="fa fa-check"></i><b>3.19.1</b> A função <em>ts</em> é a mais utilizada no pacote R.</a></li>
<li class="chapter" data-level="3.19.2" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#simulando-uma-serie-temporal"><i class="fa fa-check"></i><b>3.19.2</b> Simulando uma Série Temporal</a></li>
<li class="chapter" data-level="3.19.3" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#importando-uma-tabela-em-formato-de-serie-temporal"><i class="fa fa-check"></i><b>3.19.3</b> Importando uma tabela em formato de Série Temporal</a></li>
<li class="chapter" data-level="3.19.4" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#utilizando-um-banco-de-dados-real-em-uma-analise-de-serie-temporal"><i class="fa fa-check"></i><b>3.19.4</b> Utilizando um banco de dados real em uma análise de Série Temporal</a></li>
<li class="chapter" data-level="3.19.5" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#avaliando-a-estacionariedade-da-st"><i class="fa fa-check"></i><b>3.19.5</b> Avaliando a Estacionariedade da ST</a></li>
<li class="chapter" data-level="3.19.6" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#avaliando-a-tendencia-em-uma-st"><i class="fa fa-check"></i><b>3.19.6</b> Avaliando a tendência em uma ST</a></li>
<li class="chapter" data-level="3.19.7" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#avaliando-a-sazonalidade-da-st"><i class="fa fa-check"></i><b>3.19.7</b> Avaliando a Sazonalidade da ST</a></li>
</ul></li>
<li class="chapter" data-level="3.20" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#transformacao"><i class="fa fa-check"></i><b>3.20</b> Transformação</a></li>
<li class="chapter" data-level="3.21" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#exercicios-propostos-1"><i class="fa fa-check"></i><b>3.21</b> Exercícios Propostos</a></li>
<li class="chapter" data-level="3.22" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#material-on-line-sobre-series-temporais"><i class="fa fa-check"></i><b>3.22</b> Material on line sobre Séries Temporais</a></li>
<li class="chapter" data-level="3.23" data-path="introducao-as-series-temporais.html"><a href="introducao-as-series-temporais.html#bibliografia-sugerida-1"><i class="fa fa-check"></i><b>3.23</b> Bibliografia sugerida</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="transformacoes.html"><a href="transformacoes.html"><i class="fa fa-check"></i><b>4</b> Transformações</a><ul>
<li class="chapter" data-level="4.0.1" data-path="transformacoes.html"><a href="transformacoes.html#alguns-exemplos-de-transfomacao-dos-dados-em-st"><i class="fa fa-check"></i><b>4.0.1</b> Alguns exemplos de transfomação dos dados em ST:</a></li>
<li class="chapter" data-level="4.0.2" data-path="transformacoes.html"><a href="transformacoes.html#transformacoes-box-cox-digferenciacao-e-logaritmica"><i class="fa fa-check"></i><b>4.0.2</b> Transformações Box-Cox, Digferenciação e Logarítmica</a></li>
<li class="chapter" data-level="4.1" data-path="transformacoes.html"><a href="transformacoes.html#metodos-de-alisamento-ou-suavizacao"><i class="fa fa-check"></i><b>4.1</b> Métodos de Alisamento ou Suavização</a><ul>
<li class="chapter" data-level="4.1.1" data-path="transformacoes.html"><a href="transformacoes.html#algumas-funcoes-de-suavizacao"><i class="fa fa-check"></i><b>4.1.1</b> Algumas funções de suavização</a></li>
<li class="chapter" data-level="4.1.2" data-path="transformacoes.html"><a href="transformacoes.html#medias-moveis"><i class="fa fa-check"></i><b>4.1.2</b> Médias móveis</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="transformacoes.html"><a href="transformacoes.html#alisamentos---lowess"><i class="fa fa-check"></i><b>4.2</b> Alisamentos - Lowess</a><ul>
<li class="chapter" data-level="4.2.1" data-path="transformacoes.html"><a href="transformacoes.html#locally-weighted-sum-of-square-lowess"><i class="fa fa-check"></i><b>4.2.1</b> Locally Weighted Sum of Square (Lowess)</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="transformacoes.html"><a href="transformacoes.html#pratica-no-r-1"><i class="fa fa-check"></i><b>4.3</b> Prática no R</a></li>
<li class="chapter" data-level="4.4" data-path="transformacoes.html"><a href="transformacoes.html#medias-moveis-1"><i class="fa fa-check"></i><b>4.4</b> Médias Móveis</a></li>
<li class="chapter" data-level="4.5" data-path="transformacoes.html"><a href="transformacoes.html#analise-dos-residuos"><i class="fa fa-check"></i><b>4.5</b> Análise dos Resíduos</a></li>
<li class="chapter" data-level="4.6" data-path="transformacoes.html"><a href="transformacoes.html#bibliografia-sugerida-2"><i class="fa fa-check"></i><b>4.6</b> Bibliografia sugerida</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html"><i class="fa fa-check"></i><b>5</b> Análises Preditivas - Parte I</a><ul>
<li class="chapter" data-level="5.1" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#predicao"><i class="fa fa-check"></i><b>5.1</b> Predição</a></li>
<li class="chapter" data-level="5.2" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#por-que-dos-erros"><i class="fa fa-check"></i><b>5.2</b> Por que dos erros ?</a></li>
<li class="chapter" data-level="5.3" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#regressao-linear-vs-series-temporais"><i class="fa fa-check"></i><b>5.3</b> Regressão Linear vs Séries Temporais</a></li>
<li class="chapter" data-level="5.4" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#como-prever-usando-series-temporais"><i class="fa fa-check"></i><b>5.4</b> Como prever usando séries temporais ?</a><ul>
<li class="chapter" data-level="5.4.1" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#modelagem-aprendizado-e-previsao"><i class="fa fa-check"></i><b>5.4.1</b> Modelagem, aprendizado e previsão</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#consideracoes-sobre-previsoes"><i class="fa fa-check"></i><b>5.5</b> Considerações sobre previsões</a></li>
<li class="chapter" data-level="5.6" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#algumas-tecnicas-para-previsao-em-st"><i class="fa fa-check"></i><b>5.6</b> Algumas técnicas para previsão em ST</a><ul>
<li class="chapter" data-level="5.6.1" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#tecnicas-simples"><i class="fa fa-check"></i><b>5.6.1</b> <strong>Técnicas Simples</strong></a></li>
<li class="chapter" data-level="5.6.2" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#tecnicas-classicas"><i class="fa fa-check"></i><b>5.6.2</b> <strong>Técnicas Clássicas</strong></a></li>
<li class="chapter" data-level="5.6.3" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#tecnicas-avancadas"><i class="fa fa-check"></i><b>5.6.3</b> <strong>Técnicas Avançadas</strong></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#naive"><i class="fa fa-check"></i><b>5.7</b> Naive</a></li>
<li class="chapter" data-level="5.8" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#mean"><i class="fa fa-check"></i><b>5.8</b> Mean</a></li>
<li class="chapter" data-level="5.9" data-path="analises-preditivas-parte-i.html"><a href="analises-preditivas-parte-i.html#drift"><i class="fa fa-check"></i><b>5.9</b> Drift</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html"><i class="fa fa-check"></i><b>6</b> Análises Preditivas - Parte II</a><ul>
<li class="chapter" data-level="6.1" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#suavizacao-exponencial"><i class="fa fa-check"></i><b>6.1</b> Suavização Exponencial</a><ul>
<li class="chapter" data-level="6.1.1" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#principio-basico"><i class="fa fa-check"></i><b>6.1.1</b> Principio básico:</a></li>
<li class="chapter" data-level="6.1.2" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#holt-winters-sazonal"><i class="fa fa-check"></i><b>6.1.2</b> Holt-Winters Sazonal</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#analise-dos-residuos-1"><i class="fa fa-check"></i><b>6.2</b> Análise dos Resíduos</a><ul>
<li class="chapter" data-level="6.2.1" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#pressupostos-para-previsao"><i class="fa fa-check"></i><b>6.2.1</b> Pressupostos para Previsão</a></li>
<li class="chapter" data-level="6.2.2" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#comparando-o-acf-de-ambos-os-modelos"><i class="fa fa-check"></i><b>6.2.2</b> Comparando o ACF de ambos os modelos</a></li>
<li class="chapter" data-level="6.2.3" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#executando-o-teste-ljung-box"><i class="fa fa-check"></i><b>6.2.3</b> Executando o teste Ljung-Box</a></li>
<li class="chapter" data-level="6.2.4" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#distribuicao-dos-residuos-no-tempo"><i class="fa fa-check"></i><b>6.2.4</b> Distribuição dos Resíduos no tempo</a></li>
<li class="chapter" data-level="6.2.5" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#normalidade-dos-residuos"><i class="fa fa-check"></i><b>6.2.5</b> Normalidade dos Resíduos</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#arima"><i class="fa fa-check"></i><b>6.3</b> ARIMA</a><ul>
<li class="chapter" data-level="6.3.1" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#arima-nao-sazonal"><i class="fa fa-check"></i><b>6.3.1</b> Arima não sazonal</a></li>
<li class="chapter" data-level="6.3.2" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#arima-sazonal"><i class="fa fa-check"></i><b>6.3.2</b> Arima Sazonal</a></li>
<li class="chapter" data-level="6.3.3" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#como-definir-valores-de-pd-e-q"><i class="fa fa-check"></i><b>6.3.3</b> Como definir valores de p,d e q ?</a></li>
<li class="chapter" data-level="6.3.4" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#como-saber-qual-o-melhor-modelo"><i class="fa fa-check"></i><b>6.3.4</b> Como saber qual o melhor modelo ?</a></li>
<li class="chapter" data-level="6.3.5" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#auto.arima"><i class="fa fa-check"></i><b>6.3.5</b> Auto.arima()</a></li>
<li class="chapter" data-level="6.3.6" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#comparando-o-acf-de-ambos-os-modelos-1"><i class="fa fa-check"></i><b>6.3.6</b> Comparando o ACF de ambos os modelos</a></li>
<li class="chapter" data-level="6.3.7" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#executando-o-teste-ljung-box-1"><i class="fa fa-check"></i><b>6.3.7</b> Executando o teste Ljung-Box</a></li>
<li class="chapter" data-level="6.3.8" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#distribuicao-dos-residuos-no-tempo-1"><i class="fa fa-check"></i><b>6.3.8</b> Distribuição dos Resíduos no tempo</a></li>
<li class="chapter" data-level="6.3.9" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#normalidade-dos-residuos-1"><i class="fa fa-check"></i><b>6.3.9</b> Normalidade dos Resíduos</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#regressao-com-series-temporais"><i class="fa fa-check"></i><b>6.4</b> Regressão com Séries Temporais</a><ul>
<li class="chapter" data-level="6.4.1" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#no-r"><i class="fa fa-check"></i><b>6.4.1</b> No R</a></li>
<li class="chapter" data-level="6.4.2" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#distribuicao-da-serie-multipla"><i class="fa fa-check"></i><b>6.4.2</b> Distribuição da Série Múltipla</a></li>
<li class="chapter" data-level="6.4.3" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#ajustando-os-modelos"><i class="fa fa-check"></i><b>6.4.3</b> Ajustando os modelos</a></li>
<li class="chapter" data-level="6.4.4" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#fazendo-o-diagnostico-do-modelo"><i class="fa fa-check"></i><b>6.4.4</b> Fazendo o diagnóstico do modelo</a></li>
<li class="chapter" data-level="6.4.5" data-path="analises-preditivas-parte-ii.html"><a href="analises-preditivas-parte-ii.html#fazendo-a-previsao"><i class="fa fa-check"></i><b>6.4.5</b> Fazendo a previsão</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html"><i class="fa fa-check"></i><b>7</b> Introdução à Análise Estatística Espacial</a><ul>
<li class="chapter" data-level="7.1" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#material-on-line-sobre-estatistica-espacial"><i class="fa fa-check"></i><b>7.1</b> Material on line sobre Estatística Espacial</a></li>
<li class="chapter" data-level="7.2" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#o-que-e-analise-estatistica-espacial"><i class="fa fa-check"></i><b>7.2</b> O que é Análise Estatística Espacial ?</a></li>
<li class="chapter" data-level="7.3" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#objetivos-da-estatistica-espacial"><i class="fa fa-check"></i><b>7.3</b> Objetivos da Estatística Espacial</a></li>
<li class="chapter" data-level="7.4" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#dependencia-espaciais"><i class="fa fa-check"></i><b>7.4</b> Dependência Espaciais</a></li>
<li class="chapter" data-level="7.5" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#dr.john-snow-1813-1858"><i class="fa fa-check"></i><b>7.5</b> Dr. John Snow (1813-1858)</a></li>
<li class="chapter" data-level="7.6" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#tipos-de-dados-espaciais"><i class="fa fa-check"></i><b>7.6</b> Tipos de Dados Espaciais</a></li>
<li class="chapter" data-level="7.7" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#padroes-pontuais"><i class="fa fa-check"></i><b>7.7</b> Padrões Pontuais</a></li>
<li class="chapter" data-level="7.8" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#dados-de-area"><i class="fa fa-check"></i><b>7.8</b> Dados de Área</a></li>
<li class="chapter" data-level="7.9" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#geoestatistica"><i class="fa fa-check"></i><b>7.9</b> Geoestatística</a></li>
<li class="chapter" data-level="7.10" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#geoprocessamento"><i class="fa fa-check"></i><b>7.10</b> Geoprocessamento</a></li>
<li class="chapter" data-level="7.11" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#tecnologias-de-geoprocessamento"><i class="fa fa-check"></i><b>7.11</b> Tecnologias de Geoprocessamento</a></li>
<li class="chapter" data-level="7.12" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#sistema-de-informacoes-geograficas"><i class="fa fa-check"></i><b>7.12</b> Sistema de Informações Geográficas</a><ul>
<li class="chapter" data-level="7.12.1" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#qgis"><i class="fa fa-check"></i><b>7.12.1</b> QGIS</a></li>
</ul></li>
<li class="chapter" data-level="7.13" data-path="introducao-a-analise-estatistica-espacial.html"><a href="introducao-a-analise-estatistica-espacial.html#onde-encontrar-dados-espaciais"><i class="fa fa-check"></i><b>7.13</b> Onde encontrar dados espaciais ?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html"><i class="fa fa-check"></i><b>8</b> Padrões Pontuais</a><ul>
<li class="chapter" data-level="8.1" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#o-que-sao-padroes-pontuais"><i class="fa fa-check"></i><b>8.1</b> O que são Padrões Pontuais ?</a></li>
<li class="chapter" data-level="8.2" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#objetivos"><i class="fa fa-check"></i><b>8.2</b> Objetivos</a></li>
<li class="chapter" data-level="8.3" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#tipos-de-distribuicoes"><i class="fa fa-check"></i><b>8.3</b> Tipos de Distribuições</a></li>
<li class="chapter" data-level="8.4" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#processos-pontuais"><i class="fa fa-check"></i><b>8.4</b> Processos pontuais</a></li>
<li class="chapter" data-level="8.5" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#processo-de-primeira-ordem"><i class="fa fa-check"></i><b>8.5</b> Processo de primeira ordem</a><ul>
<li class="chapter" data-level="8.5.1" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#testando-a-completa-aletoriedade-espacial-csr---complete-spatial-randomness"><i class="fa fa-check"></i><b>8.5.1</b> Testando a Completa Aletoriedade Espacial (<em>CSR - complete spatial randomness</em>)</a></li>
<li class="chapter" data-level="8.5.2" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#estimativa-de-kernel"><i class="fa fa-check"></i><b>8.5.2</b> Estimativa de Kernel</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#algumas-funcoes-kernel-kbullet"><i class="fa fa-check"></i><b>8.6</b> Algumas funções kernel <span class="math inline">\(K(\bullet)\)</span>:</a></li>
<li class="chapter" data-level="8.7" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#diferencas-entre-as-funcoes-de-kernel"><i class="fa fa-check"></i><b>8.7</b> Diferenças entre as funções de Kernel</a></li>
<li class="chapter" data-level="8.8" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#funcao-g---distancia-do-vizinho-mais-proximo"><i class="fa fa-check"></i><b>8.8</b> Função G - Distância do vizinho mais próximo</a><ul>
<li class="chapter" data-level="8.8.1" data-path="padroes-pontuais-1.html"><a href="padroes-pontuais-1.html#funcao-k-de-ripley-ou-apenas-funcao-k."><i class="fa fa-check"></i><b>8.8.1</b> Função K de Ripley (ou apenas função K).</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dados-de-area-1.html"><a href="dados-de-area-1.html"><i class="fa fa-check"></i><b>9</b> Dados de Área</a></li>
<li class="chapter" data-level="10" data-path="geoestatistica-1.html"><a href="geoestatistica-1.html"><i class="fa fa-check"></i><b>10</b> Geoestatística</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ESTUDOS ECOLÓGICOS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analises-preditivas---parte-ii" class="section level1">
<h1><span class="header-section-number"> 6</span> Análises Preditivas - Parte II</h1>
<div id="suavizacao-exponencial" class="section level2">
<h2><span class="header-section-number">6.1</span> Suavização Exponencial</h2>
<ul>
<li><p>A suavização exponencial é uma técnica utilizada para suavizar dados de séries temporais usando um função de janela exponencial.</p></li>
<li><p>Enquanto na média móvel simples as observações passadas são ponderadas igualmente, as funções exponenciais são usadas para atribuir pesos exponencialmente decrescentes ao longo do tempo.</p></li>
<li><p>É um procedimento de fácil aplicação para fazer alguma determinação com base em suposições anteriores do usuário, como a sazonalidade.</p></li>
</ul>
<p><span class="math display">\[s_t = \alpha x_t + (1-\alpha) s_{t-1}, t &gt; 0\]</span></p>
<div id="principio-basico" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Principio básico:</h3>
<ul>
<li><p>As observações passadas possuem pesos;</p></li>
<li><p>Quanto mais recentes as observações, maiores seus pesos para as previsões;</p></li>
<li><p>Utiliza médias que reduzem quanto mais distantes são as observações;</p></li>
<li><p>O parâmetro <strong><span class="math inline">\(\alpha\)</span></strong> determina o índice de redução: valor entre 0 e 1</p>
<ul>
<li><p>Próximo de 0: observações antigas tem maior peso</p></li>
<li><p>Próximo de 1: observações recentes tem mais peso</p></li>
</ul></li>
</ul>
<table>
<thead>
<tr class="header">
<th align="center">Intervalo</th>
<th align="center">Peso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(t-1\)</span></td>
<td align="center">0,5</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(t-2\)</span></td>
<td align="center">0,2</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(t-3\)</span></td>
<td align="center">0,07</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(t-4\)</span></td>
<td align="center">0,01</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(t-5\)</span></td>
<td align="center">0,005</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="holt-winters-sazonal" class="section level3">
<h3><span class="header-section-number">6.1.2</span> Holt-Winters Sazonal</h3>
<ul>
<li><p>O método de Holt-Winters foi sugerido por Holt (1957) e Winters (1960), que trabalharam no <em>School of Industrial Administration em Carnegie Institute of Technology</em>.</p></li>
<li><p>Inclui captura de sazonalidade</p></li>
<li><p>Também ideal para tendência</p></li>
<li><p><strong>Aditivo</strong>: para variação sazonal constante</p></li>
<li><p><strong>Multiplicativo</strong>: variação sazonal não constante na série</p></li>
</ul>
<p><img src="/home/oswaldo/Documentos/cursos_ecologicos_2019/figuras/HoltWinters.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1"><span class="co"># Aditivo - variação sazonal constante</span></a>
<a class="sourceLine" id="cb86-2" data-line-number="2">mdl1 =<span class="st"> </span><span class="kw">hw</span>(denguecasests,<span class="dt">seasonal =</span> <span class="st">&quot;additive&quot;</span>, <span class="dt">h=</span><span class="dv">16</span>)</a>
<a class="sourceLine" id="cb86-3" data-line-number="3"><span class="kw">autoplot</span>(mdl1) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb86-4" data-line-number="4"><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="kw">range</span>(<span class="dv">0</span>), <span class="dt">color=</span><span class="st">&#39;black&#39;</span>, <span class="dt">size=</span><span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-73-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1"><span class="co"># geom_hline(yintercept=mean(denguecasests), color=&quot;red&quot;)</span></a>
<a class="sourceLine" id="cb87-2" data-line-number="2"></a>
<a class="sourceLine" id="cb87-3" data-line-number="3"><span class="co"># Multiplicativo - Variação sazonal não constante na série</span></a>
<a class="sourceLine" id="cb87-4" data-line-number="4">mdl2 =<span class="st"> </span><span class="kw">hw</span>(denguecasests,<span class="dt">seasonal =</span> <span class="st">&quot;multiplicative&quot;</span>, <span class="dt">h=</span><span class="dv">16</span>)</a>
<a class="sourceLine" id="cb87-5" data-line-number="5"><span class="kw">autoplot</span>(mdl2) <span class="op">+</span><span class="st"> </span><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="kw">range</span>(<span class="dv">0</span>), <span class="dt">color=</span><span class="st">&#39;black&#39;</span>, <span class="dt">size=</span><span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-73-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1"><span class="co"># Comparar os modelos</span></a>
<a class="sourceLine" id="cb88-2" data-line-number="2"><span class="kw">plot</span>(mdl1, <span class="dt">main=</span><span class="st">&#39;Comparação Aditivo vs Multiplicativo&#39;</span>)</a>
<a class="sourceLine" id="cb88-3" data-line-number="3"><span class="kw">lines</span>(mdl2<span class="op">$</span>mean, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb88-4" data-line-number="4"><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">color=</span><span class="st">&#39;gray&#39;</span>, <span class="dt">size=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb88-5" data-line-number="5"><span class="kw">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="dt">legend=</span><span class="kw">c</span>(<span class="st">&quot;Adirtivo&quot;</span>, <span class="st">&quot;Multiplicativo&quot;</span>),</a>
<a class="sourceLine" id="cb88-6" data-line-number="6">       <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>), <span class="dt">lty=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">cex=</span><span class="fl">0.8</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-73-3.png" width="672" style="display: block; margin: auto;" /></p>
<table>
<thead>
<tr class="header">
<th align="left">meses</th>
<th align="right">Aditivo</th>
<th align="right">Multiplicativo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2017-01-01</td>
<td align="right">54.35271</td>
<td align="right">81.04290</td>
</tr>
<tr class="even">
<td align="left">2017-02-01</td>
<td align="right">132.91203</td>
<td align="right">146.91063</td>
</tr>
<tr class="odd">
<td align="left">2017-03-01</td>
<td align="right">242.36819</td>
<td align="right">167.38183</td>
</tr>
<tr class="even">
<td align="left">2017-04-01</td>
<td align="right">141.82212</td>
<td align="right">111.91280</td>
</tr>
<tr class="odd">
<td align="left">2017-05-01</td>
<td align="right">60.81116</td>
<td align="right">75.68657</td>
</tr>
<tr class="even">
<td align="left">2017-06-01</td>
<td align="right">64.82782</td>
<td align="right">92.15411</td>
</tr>
<tr class="odd">
<td align="left">2017-07-01</td>
<td align="right">237.19662</td>
<td align="right">152.17261</td>
</tr>
<tr class="even">
<td align="left">2017-08-01</td>
<td align="right">232.49393</td>
<td align="right">140.74614</td>
</tr>
<tr class="odd">
<td align="left">2017-09-01</td>
<td align="right">144.08363</td>
<td align="right">75.14599</td>
</tr>
<tr class="even">
<td align="left">2017-10-01</td>
<td align="right">140.68798</td>
<td align="right">106.17806</td>
</tr>
<tr class="odd">
<td align="left">2017-11-01</td>
<td align="right">62.64481</td>
<td align="right">60.06112</td>
</tr>
<tr class="even">
<td align="left">2017-12-01</td>
<td align="right">220.42036</td>
<td align="right">99.44799</td>
</tr>
<tr class="odd">
<td align="left">2018-01-01</td>
<td align="right">56.78732</td>
<td align="right">42.67758</td>
</tr>
<tr class="even">
<td align="left">2018-02-01</td>
<td align="right">135.34664</td>
<td align="right">74.50686</td>
</tr>
<tr class="odd">
<td align="left">2018-03-01</td>
<td align="right">244.80280</td>
<td align="right">81.35503</td>
</tr>
<tr class="even">
<td align="left">2018-04-01</td>
<td align="right">144.25673</td>
<td align="right">51.82029</td>
</tr>
</tbody>
</table>
<hr />
</div>
</div>
<div id="analise-dos-residuos-1" class="section level2">
<h2><span class="header-section-number">6.2</span> Análise dos Resíduos</h2>
<div id="pressupostos-para-previsao" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Pressupostos para Previsão</h3>
<ul>
<li><p><span class="math inline">\(E(e_i) = 0\)</span></p></li>
<li><p>Variância <span class="math inline">\(\sigma^2\)</span> constante (homocedasticidade);</p></li>
<li><p><span class="math inline">\(e_i \sim N(0, \sigma^2)\)</span></p></li>
<li><p>Não devem estar relacionados (autocorrelação) - <span class="math inline">\(e_i \neq e_j\)</span>, são independentes</p></li>
<li><p>Se existe autocorrelação, existe informação nos resíduos que deveria ser utilizada na previsão</p></li>
</ul>
<hr />
</div>
<div id="comparando-o-acf-de-ambos-os-modelos" class="section level3">
<h3><span class="header-section-number">6.2.2</span> Comparando o ACF de ambos os modelos</h3>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb89-2" data-line-number="2"><span class="kw">acf</span>(denguecasests, <span class="dt">lag.max=</span><span class="dv">20</span>, <span class="dt">main=</span><span class="st">&quot;Dados Original&quot;</span>)</a>
<a class="sourceLine" id="cb89-3" data-line-number="3"><span class="kw">acf</span>(mdl1<span class="op">$</span>residuals, <span class="dt">lag.max=</span><span class="dv">20</span>, <span class="dt">main=</span><span class="st">&quot;Modelo Aditivo&quot;</span>)</a>
<a class="sourceLine" id="cb89-4" data-line-number="4"><span class="kw">acf</span>(mdl2<span class="op">$</span>residuals, <span class="dt">lag.max=</span><span class="dv">20</span>, <span class="dt">main=</span><span class="st">&quot;Modelo Multiplicativo&quot;</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-75-1.png" width="100%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="executando-o-teste-ljung-box" class="section level3">
<h3><span class="header-section-number">6.2.3</span> Executando o teste Ljung-Box</h3>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1"><span class="co"># Dados Originais</span></a>
<a class="sourceLine" id="cb90-2" data-line-number="2"><span class="kw">Box.test</span>(denguecasests, <span class="dt">lag=</span><span class="dv">20</span>, <span class="dt">type=</span><span class="st">&quot;Ljung-Box&quot;</span>)</a></code></pre></div>
<pre><code>Box-Ljung test</code></pre>
<p>data: denguecasests
X-squared = 171.88, df = 20, p-value &lt; 2.2e-16</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1"><span class="co"># Modelo Aditivo</span></a>
<a class="sourceLine" id="cb92-2" data-line-number="2"><span class="kw">Box.test</span>(mdl1<span class="op">$</span>residuals, <span class="dt">lag=</span><span class="dv">20</span>, <span class="dt">type=</span><span class="st">&quot;Ljung-Box&quot;</span>)</a></code></pre></div>
<pre><code>Box-Ljung test</code></pre>
<p>data: mdl1$residuals
X-squared = 23.562, df = 20, p-value = 0.262</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1"><span class="co"># Modelo Multiplicativo</span></a>
<a class="sourceLine" id="cb94-2" data-line-number="2"><span class="kw">Box.test</span>(mdl2<span class="op">$</span>residuals, <span class="dt">lag=</span><span class="dv">20</span>, <span class="dt">type=</span><span class="st">&quot;Ljung-Box&quot;</span>)</a></code></pre></div>
<pre><code>Box-Ljung test</code></pre>
<p>data: mdl2$residuals
X-squared = 24.251, df = 20, p-value = 0.2316</p>
<hr />
</div>
<div id="distribuicao-dos-residuos-no-tempo" class="section level3">
<h3><span class="header-section-number">6.2.4</span> Distribuição dos Resíduos no tempo</h3>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb96-2" data-line-number="2"><span class="kw">plot.ts</span>(mdl1<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo Aditivo&quot;</span>)</a>
<a class="sourceLine" id="cb96-3" data-line-number="3"><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb96-4" data-line-number="4"><span class="kw">plot.ts</span>(mdl2<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo Multiplicativo&quot;</span>)</a>
<a class="sourceLine" id="cb96-5" data-line-number="5"><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-77-1.png" width="100%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="normalidade-dos-residuos" class="section level3">
<h3><span class="header-section-number">6.2.5</span> Normalidade dos Resíduos</h3>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb97-2" data-line-number="2"><span class="kw">hist</span>(mdl1<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo Aditivo&quot;</span>)</a>
<a class="sourceLine" id="cb97-3" data-line-number="3"><span class="kw">abline</span>(<span class="dt">v=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;darkred&quot;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb97-4" data-line-number="4"><span class="kw">hist</span>(mdl2<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo Multiplicativo&quot;</span>)</a>
<a class="sourceLine" id="cb97-5" data-line-number="5"><span class="kw">abline</span>(<span class="dt">v=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;darkred&quot;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-78-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1"><span class="co"># Teste de Shapiro-Wilk</span></a>
<a class="sourceLine" id="cb98-2" data-line-number="2"><span class="kw">shapiro.test</span>(mdl1<span class="op">$</span>residuals)</a></code></pre></div>
<pre><code>Shapiro-Wilk normality test</code></pre>
<p>data: mdl1$residuals
W = 0.9786, p-value = 0.079</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1"><span class="kw">shapiro.test</span>(mdl2<span class="op">$</span>residuals)</a></code></pre></div>
<pre><code>Shapiro-Wilk normality test</code></pre>
<p>data: mdl2$residuals
W = 0.86015, p-value = 1.114e-08</p>
<hr />
</div>
</div>
<div id="arima" class="section level2">
<h2><span class="header-section-number">6.3</span> ARIMA</h2>
<div id="arima-nao-sazonal" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Arima não sazonal</h3>
<ul>
<li><p>Robusto: Pode ser usado em praticamente qualquer tipo de ST</p></li>
<li><p>Dados estáveis, com poucos outliers</p></li>
<li><p>Requer dados estacionários: pode ser transformada usando diferenciação: remove tendências</p></li>
<li><p>Subtrai a observação do período atual do período anterior</p></li>
<li><p>A diferenciação pode ser feita 1x: diferenciação de primeira ordem</p></li>
<li><p>Ou pode ser necessário uma segunda vez: diferenciação de segunda ordem (mais raro)</p></li>
</ul>
<p>Termos:</p>
<p><img src="/home/oswaldo/Documentos/cursos_ecologicos_2019/figuras/ARIMA.png" width="70%" style="display: block; margin: auto;" /></p>
<ul>
<li><p><strong>AR – Autoregressivo</strong>: avalia a relação entre os períodos (lags): autocorrelação. Extrai essa influência;</p></li>
<li><p><strong>I – Integrated</strong>: Aplica a diferenciação, se necessária;</p></li>
<li><p><strong>MA – Moving Average</strong>: Avalia erros entre períodos e extrai estes erros (não tem relação com MA usados para suavização de st);</p></li>
</ul>
<p>Exemplos:</p>
<table>
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead>
<tr class="header">
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(p = 1\)</span></td>
<td>Significa que uma determinada observação pode ser explicada pela observação prévia + erro</td>
</tr>
<tr class="even">
<td><span class="math inline">\(p = 2\)</span></td>
<td>Significa que uma determinada observação pode ser explicada por duas observações prévias + erro</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(d = 0\)</span></td>
<td>Significa que não é aplica diferenciação</td>
</tr>
<tr class="even">
<td><span class="math inline">\(d = 1\)</span></td>
<td>Significa que será aplicada diferenciação de primeira ordem</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(d = 2\)</span></td>
<td>Significa que será aplicada diferenciação de segunda ordem</td>
</tr>
<tr class="even">
<td><span class="math inline">\(q = 1\)</span></td>
<td>Significa que uma determinada observação pode ser explicada pelo erro da observação prévia</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(q = 2\)</span></td>
<td>Significa que uma determinada observação pode ser explicada pelo erro de duas observações prévias</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th align="center">ARIMA</th>
<th align="center">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">AR(1) ou ARIMA(1,0,0)</td>
<td align="center">Apenas elemento autoregressivo , de <span class="math inline">\(1^{a}\)</span> ordem</td>
</tr>
<tr class="even">
<td align="center">AR(2) ou ARIMA(2,0,0)</td>
<td align="center">Apenas elemento autoregressivo , de <span class="math inline">\(2^{a}\)</span> ordem</td>
</tr>
<tr class="odd">
<td align="center">MA(1) ou ARIMA(0,0,1)</td>
<td align="center">Apenas Média Móvel</td>
</tr>
<tr class="even">
<td align="center">ARMA(1,1)</td>
<td align="center">Autorregressão e média móvel de <span class="math inline">\(1^{a}\)</span> ordem</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="arima-sazonal" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Arima Sazonal</h3>
<ul>
<li>Inclui, além (p,d,q), os elementos (P,D,Q), tornando o modelo mais complexo.</li>
</ul>
</div>
<div id="como-definir-valores-de-pd-e-q" class="section level3">
<h3><span class="header-section-number">6.3.3</span> Como definir valores de p,d e q ?</h3>
<ul>
<li><p><strong>p</strong>: ordem da parte autoregressiva - PACF</p></li>
<li><p><strong>d</strong>: grau de diferenciação – Teste de Estacionariedade</p></li>
<li><p><strong>q</strong>: ordem da média móvel - ACF</p></li>
</ul>
<p>Esse processo pode ser extremamente difícil, mesmo para experientes. E Nem sempre o modelo mais sugestivo é o melhor.</p>
<hr />
</div>
<div id="como-saber-qual-o-melhor-modelo" class="section level3">
<h3><span class="header-section-number">6.3.4</span> Como saber qual o melhor modelo ?</h3>
<ul>
<li><p>Akaike Information Criteria (AIC e AICc)</p></li>
<li><p>Bayesian Information Criteria (BIC)</p></li>
<li><p>Outros</p></li>
</ul>
<p>Ou testar todas as combinações prováveis, mas isso pode ser um pouco demorado se for feito de forma manual.</p>
<p>Sugestão: Usar a função <strong><em>auto.arima()</em></strong></p>
<hr />
</div>
<div id="auto.arima" class="section level3">
<h3><span class="header-section-number">6.3.5</span> Auto.arima()</h3>
<ul>
<li><p>Testa diferentes combinações de p,d e r</p></li>
<li><p>Extremamente flexível</p></li>
<li><p>Mesmo intuindo um modelo, você pode usa-la para confirmar sua parametrização</p></li>
</ul>
<p>Alguns parâmetros importantes da função <em>auto.arima()</em></p>
<ul>
<li><p>stationary - If TRUE, restricts search to stationary models.</p></li>
<li><p>seasonal - If FALSE, restricts search to non-seasonal models</p></li>
<li><p>stepwise - If TRUE, will do stepwise selection (faster). Otherwise, it searches over all models. Non-stepwise selection can be very slow, especially for seasonal models.</p></li>
<li><p>trace - If TRUE, the list of ARIMA models considered will be reported.</p></li>
<li><p>approximation - If TRUE, estimation is via conditional sums of squares and the information criteria used for model selection are approximated. The final model is still computed using maximum likelihood estimation. Approximation should be used for long time series or a high seasonal period to avoid excessive computation times.</p></li>
</ul>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1"><span class="co"># Utilizando trace = T, será possível verificar todo o processo de criação e teste dos modelos</span></a>
<a class="sourceLine" id="cb102-2" data-line-number="2">modelo1 =<span class="st"> </span><span class="kw">auto.arima</span>(denguecasests, <span class="dt">trace =</span> F)</a>
<a class="sourceLine" id="cb102-3" data-line-number="3"><span class="kw">kable</span>(<span class="kw">summary</span>(modelo1))</a></code></pre></div>
<p>Series: denguecasests
ARIMA(0,1,1)(0,0,1)[12]</p>
<p>Coefficients:
ma1 sma1
-0.8234 0.3703
s.e. 0.0504 0.1004</p>
<p>sigma^2 estimated as 16200: log likelihood=-670.8
AIC=1347.59 AICc=1347.82 BIC=1355.61</p>
<p>Training set error measures:
ME RMSE MAE MPE MAPE MASE
Training set 0.5186493 125.4989 91.75439 -55.42405 85.13066 0.7477389
ACF1
Training set 0.02407242</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">ME</th>
<th align="right">RMSE</th>
<th align="right">MAE</th>
<th align="right">MPE</th>
<th align="right">MAPE</th>
<th align="right">MASE</th>
<th align="right">ACF1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Training set</td>
<td align="right">0.5186493</td>
<td align="right">125.4989</td>
<td align="right">91.75439</td>
<td align="right">-55.42405</td>
<td align="right">85.13066</td>
<td align="right">0.7477389</td>
<td align="right">0.0240724</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1"><span class="co"># Neste modelo, será feito uma busca maior para uma solução &quot;mais ótima&quot;</span></a>
<a class="sourceLine" id="cb103-2" data-line-number="2">modelo2 =<span class="st"> </span><span class="kw">auto.arima</span>(denguecasests, <span class="dt">trace =</span> F, <span class="dt">stepwise =</span> F, <span class="dt">approximation =</span> F)</a>
<a class="sourceLine" id="cb103-3" data-line-number="3"><span class="kw">kable</span>(<span class="kw">summary</span>(modelo2))</a></code></pre></div>
<p>Series: denguecasests
ARIMA(0,1,4)(0,0,1)[12]</p>
<p>Coefficients:
ma1 ma2 ma3 ma4 sma1
-0.7508 -0.1857 -0.1451 0.3934 0.3164
s.e. 0.0972 0.1069 0.1283 0.1094 0.1079</p>
<p>sigma^2 estimated as 14698: log likelihood=-664.23
AIC=1340.45 AICc=1341.29 BIC=1356.49</p>
<p>Training set error measures:
ME RMSE MAE MPE MAPE MASE
Training set -0.6774146 117.8192 85.3214 -45.61906 74.10152 0.6953141
ACF1
Training set -0.05583687</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">ME</th>
<th align="right">RMSE</th>
<th align="right">MAE</th>
<th align="right">MPE</th>
<th align="right">MAPE</th>
<th align="right">MASE</th>
<th align="right">ACF1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Training set</td>
<td align="right">-0.6774146</td>
<td align="right">117.8192</td>
<td align="right">85.3214</td>
<td align="right">-45.61906</td>
<td align="right">74.10152</td>
<td align="right">0.6953141</td>
<td align="right">-0.0558369</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1"><span class="co"># Estimando as previsões</span></a>
<a class="sourceLine" id="cb104-2" data-line-number="2">prev1 =<span class="st"> </span><span class="kw">forecast</span>(modelo1, <span class="dt">h=</span><span class="dv">12</span>)</a>
<a class="sourceLine" id="cb104-3" data-line-number="3"><span class="kw">autoplot</span>(prev1) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb104-4" data-line-number="4"><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="kw">range</span>(<span class="dv">0</span>), <span class="dt">color=</span><span class="st">&#39;black&#39;</span>, <span class="dt">size=</span><span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-81-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1">prev2 =<span class="st"> </span><span class="kw">forecast</span>(modelo2, <span class="dt">h=</span><span class="dv">12</span>)</a>
<a class="sourceLine" id="cb105-2" data-line-number="2"><span class="kw">autoplot</span>(prev2) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb105-3" data-line-number="3"><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="kw">range</span>(<span class="dv">0</span>), <span class="dt">color=</span><span class="st">&#39;black&#39;</span>, <span class="dt">size=</span><span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-81-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1"><span class="co"># Comparar os modelos</span></a>
<a class="sourceLine" id="cb106-2" data-line-number="2"><span class="kw">plot</span>(prev1, <span class="dt">main=</span><span class="st">&#39;Comparação Modelo 1 vs Modelo 2&#39;</span>)</a>
<a class="sourceLine" id="cb106-3" data-line-number="3"><span class="kw">lines</span>(prev2<span class="op">$</span>mean, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">add=</span>T)</a>
<a class="sourceLine" id="cb106-4" data-line-number="4"><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">color=</span><span class="st">&#39;gray&#39;</span>, <span class="dt">size=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb106-5" data-line-number="5"><span class="kw">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="dt">legend=</span><span class="kw">c</span>(<span class="st">&quot;Adirtivo&quot;</span>, <span class="st">&quot;Multiplicativo&quot;</span>),</a>
<a class="sourceLine" id="cb106-6" data-line-number="6">       <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>), <span class="dt">lty=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">cex=</span><span class="fl">0.8</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-81-3.png" width="672" style="display: block; margin: auto;" /></p>
<table>
<thead>
<tr class="header">
<th align="left">meses</th>
<th align="right">Modelo_1</th>
<th align="right">Modelo_2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2017-01-01</td>
<td align="right">91.55672</td>
<td align="right">27.78412</td>
</tr>
<tr class="even">
<td align="left">2017-02-01</td>
<td align="right">165.12106</td>
<td align="right">133.14828</td>
</tr>
<tr class="odd">
<td align="left">2017-03-01</td>
<td align="right">153.66652</td>
<td align="right">134.93483</td>
</tr>
<tr class="even">
<td align="left">2017-04-01</td>
<td align="right">200.94246</td>
<td align="right">162.30890</td>
</tr>
<tr class="odd">
<td align="left">2017-05-01</td>
<td align="right">156.74707</td>
<td align="right">122.72440</td>
</tr>
<tr class="even">
<td align="left">2017-06-01</td>
<td align="right">128.03768</td>
<td align="right">95.41404</td>
</tr>
<tr class="odd">
<td align="left">2017-07-01</td>
<td align="right">84.62545</td>
<td align="right">63.20041</td>
</tr>
<tr class="even">
<td align="left">2017-08-01</td>
<td align="right">187.44091</td>
<td align="right">146.33454</td>
</tr>
<tr class="odd">
<td align="left">2017-09-01</td>
<td align="right">71.03300</td>
<td align="right">51.57168</td>
</tr>
<tr class="even">
<td align="left">2017-10-01</td>
<td align="right">160.56290</td>
<td align="right">127.87395</td>
</tr>
<tr class="odd">
<td align="left">2017-11-01</td>
<td align="right">129.26032</td>
<td align="right">98.92913</td>
</tr>
<tr class="even">
<td align="left">2017-12-01</td>
<td align="right">144.79419</td>
<td align="right">108.31671</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="comparando-o-acf-de-ambos-os-modelos-1" class="section level3">
<h3><span class="header-section-number">6.3.6</span> Comparando o ACF de ambos os modelos</h3>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb107-2" data-line-number="2"><span class="kw">acf</span>(denguecasests, <span class="dt">lag.max=</span><span class="dv">20</span>, <span class="dt">main=</span><span class="st">&quot;Dados Original&quot;</span>)</a>
<a class="sourceLine" id="cb107-3" data-line-number="3"><span class="kw">acf</span>(modelo1<span class="op">$</span>residuals, <span class="dt">lag.max=</span><span class="dv">20</span>, <span class="dt">main=</span><span class="st">&quot;Modelo 1&quot;</span>)</a>
<a class="sourceLine" id="cb107-4" data-line-number="4"><span class="kw">acf</span>(modelo2<span class="op">$</span>residuals, <span class="dt">lag.max=</span><span class="dv">20</span>, <span class="dt">main=</span><span class="st">&quot;Modelo 2&quot;</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-83-1.png" width="100%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="executando-o-teste-ljung-box-1" class="section level3">
<h3><span class="header-section-number">6.3.7</span> Executando o teste Ljung-Box</h3>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1"><span class="co"># Dados Originais</span></a>
<a class="sourceLine" id="cb108-2" data-line-number="2"><span class="kw">Box.test</span>(denguecasests, <span class="dt">lag=</span><span class="dv">20</span>, <span class="dt">type=</span><span class="st">&quot;Ljung-Box&quot;</span>)</a></code></pre></div>
<pre><code>Box-Ljung test</code></pre>
<p>data: denguecasests
X-squared = 171.88, df = 20, p-value &lt; 2.2e-16</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1"><span class="co"># Modelo 1</span></a>
<a class="sourceLine" id="cb110-2" data-line-number="2"><span class="kw">Box.test</span>(modelo1<span class="op">$</span>residuals, <span class="dt">lag=</span><span class="dv">20</span>, <span class="dt">type=</span><span class="st">&quot;Ljung-Box&quot;</span>)</a></code></pre></div>
<pre><code>Box-Ljung test</code></pre>
<p>data: modelo1$residuals
X-squared = 22.963, df = 20, p-value = 0.2906</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="co"># Modelo 2</span></a>
<a class="sourceLine" id="cb112-2" data-line-number="2"><span class="kw">Box.test</span>(modelo2<span class="op">$</span>residuals, <span class="dt">lag=</span><span class="dv">20</span>, <span class="dt">type=</span><span class="st">&quot;Ljung-Box&quot;</span>)</a></code></pre></div>
<pre><code>Box-Ljung test</code></pre>
<p>data: modelo2$residuals
X-squared = 12.866, df = 20, p-value = 0.8831</p>
<hr />
</div>
<div id="distribuicao-dos-residuos-no-tempo-1" class="section level3">
<h3><span class="header-section-number">6.3.8</span> Distribuição dos Resíduos no tempo</h3>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb114-2" data-line-number="2"><span class="kw">plot.ts</span>(modelo1<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo 1&quot;</span>)</a>
<a class="sourceLine" id="cb114-3" data-line-number="3"><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb114-4" data-line-number="4"><span class="kw">plot.ts</span>(modelo2<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo 2&quot;</span>)</a>
<a class="sourceLine" id="cb114-5" data-line-number="5"><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-85-1.png" width="100%" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="normalidade-dos-residuos-1" class="section level3">
<h3><span class="header-section-number">6.3.9</span> Normalidade dos Resíduos</h3>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb115-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb115-2" data-line-number="2"><span class="kw">hist</span>(modelo1<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo 1&quot;</span>)</a>
<a class="sourceLine" id="cb115-3" data-line-number="3"><span class="kw">abline</span>(<span class="dt">v=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;darkred&quot;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb115-4" data-line-number="4"><span class="kw">hist</span>(modelo2<span class="op">$</span>residuals, <span class="dt">main=</span><span class="st">&quot;Modelo 2&quot;</span>)</a>
<a class="sourceLine" id="cb115-5" data-line-number="5"><span class="kw">abline</span>(<span class="dt">v=</span><span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;darkred&quot;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-86-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="co"># Teste de Shapiro-Wilk</span></a>
<a class="sourceLine" id="cb116-2" data-line-number="2"><span class="kw">shapiro.test</span>(modelo1<span class="op">$</span>residuals)</a></code></pre></div>
<pre><code>Shapiro-Wilk normality test</code></pre>
<p>data: modelo1$residuals
W = 0.96905, p-value = 0.01275</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="kw">shapiro.test</span>(modelo2<span class="op">$</span>residuals)</a></code></pre></div>
<pre><code>Shapiro-Wilk normality test</code></pre>
<p>data: modelo2$residuals
W = 0.95754, p-value = 0.001654</p>
<hr />
</div>
</div>
<div id="regressao-com-series-temporais" class="section level2">
<h2><span class="header-section-number">6.4</span> Regressão com Séries Temporais</h2>
<div id="no-r" class="section level3">
<h3><span class="header-section-number">6.4.1</span> No R</h3>
<ul>
<li><p><strong>tslm - Time Serie Linear Model</strong>: Estima um modelo de regressão linear adaptado para séries temporais simples ou múltipla;</p></li>
<li><p>Pode ser utilizado os componentes sazonalidade e tendência como variáveis independentes;</p></li>
</ul>
<p><br />
<span class="math inline">\(y \sim trend\)</span><br />
<span class="math inline">\(y \sim trend + season\)</span><br />
<span class="math inline">\(y \sim trend + season + x_{1} + ... + x_{k}\)</span></p>
<hr />
<ul>
<li>Utilzando o baco de dados do R chamado Seatbelts</li>
</ul>
<p>É uma série histórica que mostra os totais mensais dos condutores de automóveis na Grã-Bretanha mortos ou gravemente feridos, de 1969 a dezembro de 1984. O uso obrigatório dos cintos de segurança foi introduzido em 31 de janeiro de 1983.</p>
<table>
<thead>
<tr class="header">
<th align="center">Variáveis</th>
<th align="center">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">DriversKilled</td>
<td align="center">Motoristas de carro mortos</td>
</tr>
<tr class="even">
<td align="center">drivers</td>
<td align="center">Mesmo que UKDriverDeaths</td>
</tr>
<tr class="odd">
<td align="center">front</td>
<td align="center">Passageiros do banco da frente mortos ou gravemente feridos</td>
</tr>
<tr class="even">
<td align="center">rear</td>
<td align="center">Passageiros do banco traseiro mortos ou gravemente feridos</td>
</tr>
<tr class="odd">
<td align="center">kms</td>
<td align="center">Distância percorrida</td>
</tr>
<tr class="even">
<td align="center">PetroPrice</td>
<td align="center">Preço da gasolina</td>
</tr>
<tr class="odd">
<td align="center">VanKilled</td>
<td align="center">Número de condutores de van (veículo leve de mercadorias)</td>
</tr>
<tr class="even">
<td align="center">law</td>
<td align="center">A lei estava em vigor naquele mês (1/0)</td>
</tr>
</tbody>
</table>
<p>Harvey, A. C. and Durbin, J. (1986). The effects of seat belt legislation on British road casualties: A case study in structural time series modelling. Journal of the Royal Statistical Society series A, 149, 187–227. doi: 10.2307/2981553.</p>
</div>
<div id="distribuicao-da-serie-multipla" class="section level3">
<h3><span class="header-section-number">6.4.2</span> Distribuição da Série Múltipla</h3>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="kw">plot</span>(Seatbelts)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-87-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="ajustando-os-modelos" class="section level3">
<h3><span class="header-section-number">6.4.3</span> Ajustando os modelos</h3>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" data-line-number="1">modelo1 =<span class="st"> </span><span class="kw">tslm</span>(DriversKilled <span class="op">~</span><span class="st"> </span>trend, <span class="dt">data=</span>Seatbelts)</a>
<a class="sourceLine" id="cb121-2" data-line-number="2">modelo2 =<span class="st"> </span><span class="kw">tslm</span>(DriversKilled <span class="op">~</span><span class="st"> </span>season, <span class="dt">data=</span>Seatbelts)</a>
<a class="sourceLine" id="cb121-3" data-line-number="3">modelo3 =<span class="st"> </span><span class="kw">tslm</span>(DriversKilled <span class="op">~</span><span class="st"> </span>trend <span class="op">+</span><span class="st"> </span>season, <span class="dt">data=</span>Seatbelts)</a></code></pre></div>
</div>
<div id="fazendo-o-diagnostico-do-modelo" class="section level3">
<h3><span class="header-section-number">6.4.4</span> Fazendo o diagnóstico do modelo</h3>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="kw">CV</span>(modelo1)</a>
<a class="sourceLine" id="cb122-2" data-line-number="2"><span class="kw">CV</span>(modelo2)</a>
<a class="sourceLine" id="cb122-3" data-line-number="3"><span class="kw">CV</span>(modelo3)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">m1</th>
<th align="right">m2</th>
<th align="right">m3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CV</td>
<td align="right">583.39</td>
<td align="right">403.58</td>
<td align="right">309.96</td>
</tr>
<tr class="even">
<td>AIC</td>
<td align="right">1224.55</td>
<td align="right">1153.29</td>
<td align="right">1102.18</td>
</tr>
<tr class="odd">
<td>AICc</td>
<td align="right">1224.68</td>
<td align="right">1155.33</td>
<td align="right">1104.55</td>
</tr>
<tr class="even">
<td>BIC</td>
<td align="right">1234.33</td>
<td align="right">1195.63</td>
<td align="right">1147.79</td>
</tr>
<tr class="odd">
<td>AdjR2</td>
<td align="right">0.10</td>
<td align="right">0.41</td>
<td align="right">0.55</td>
</tr>
</tbody>
</table>
</div>
<div id="fazendo-a-previsao" class="section level3">
<h3><span class="header-section-number">6.4.5</span> Fazendo a previsão</h3>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" data-line-number="1">r1 =<span class="st"> </span><span class="kw">forecast</span>(modelo1,<span class="dt">h=</span><span class="dv">12</span>)</a>
<a class="sourceLine" id="cb123-2" data-line-number="2">r2 =<span class="st"> </span><span class="kw">forecast</span>(modelo2,<span class="dt">h=</span><span class="dv">12</span>)</a>
<a class="sourceLine" id="cb123-3" data-line-number="3">r3 =<span class="st"> </span><span class="kw">forecast</span>(modelo3,<span class="dt">h=</span><span class="dv">12</span>)</a>
<a class="sourceLine" id="cb123-4" data-line-number="4"></a>
<a class="sourceLine" id="cb123-5" data-line-number="5"><span class="kw">autoplot</span>(r1, <span class="dt">main=</span><span class="st">&quot;Modelo1 = Tendência&quot;)</span></a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-91-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="kw">autoplot</span>(r2, <span class="dt">main=</span><span class="st">&quot;Modelo2 = Sazonalidade&quot;</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-91-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1"><span class="kw">autoplot</span>(r3, <span class="dt">main=</span><span class="st">&quot;Modelo2 = Tendência + Sazonalidade&quot;</span>)</a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-91-3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1"><span class="kw">plot</span>(r1)</a>
<a class="sourceLine" id="cb126-2" data-line-number="2"><span class="kw">lines</span>(r2<span class="op">$</span>mean, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb126-3" data-line-number="3"><span class="kw">lines</span>(r3<span class="op">$</span>mean, <span class="dt">col=</span><span class="st">&quot;darkgreen&quot;</span>)</a>
<a class="sourceLine" id="cb126-4" data-line-number="4"><span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>,<span class="dt">legend=</span><span class="kw">c</span>(<span class="st">&quot;Tendência&quot;,&quot;</span>Sazonalidade<span class="st">&quot;,&quot;</span>Tendência <span class="op">+</span><span class="st"> </span>Sazonalidade<span class="st">&quot;), col = c(&quot;</span>blue<span class="st">&quot;,&quot;</span>red<span class="st">&quot;,&quot;</span>darkgreen<span class="st">&quot;), lty=1:2, cex=0.8)</span></a></code></pre></div>
<p><img src="ecologico_book_files/figure-html/unnamed-chunk-91-4.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analises-preditivas-parte-i.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introducao-a-analise-estatistica-espacial.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
